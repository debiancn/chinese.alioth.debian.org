<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Глава 5. Основы</title>
    <link rel="stylesheet" type="text/css" href="debian.css"/>
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="home" href="index.ru.html" title="Руководство для сопровождающих Debian"/>
    <link rel="up" href="index.ru.html" title="Руководство для сопровождающих Debian"/>
    <link rel="prev" href="ch04.ru.html" title="Глава 4. Простой пример"/>
    <link rel="next" href="ch06.ru.html" title="Глава 6. Опции debmake"/>
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Глава 5. Основы</th>
        </tr>
        <tr>
          <td align="left"><a accesskey="p" href="ch04.ru.html"><img src="images/prev.png" alt="Пред."/></a> </td>
          <th width="60%" align="center"> </th>
          <td align="right"> <a accesskey="n" href="ch06.ru.html"><img src="images/next.png" alt="След."/></a></td>
        </tr>
      </table>
      <hr/>
    </div>
    <div class="chapter">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="basics"/>Глава 5. Основы</h1>
          </div>
        </div>
      </div>
      <div class="toc">
        <p>
          <strong>Содержание</strong>
        </p>
        <dl class="toc">
          <dt>
            <span class="section">
              <a href="ch05.ru.html#workflow">5.1. Работа по созданию пакета</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#debhelper">5.1.1. Пакет <span class="strong"><strong>debhelper</strong></span></a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#name-version">5.2. Имя пакета и версия</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#native">5.3. Родной пакет Debian</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#rules">5.4. debian/rules</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#dh">5.4.1. dh</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#simplerules">5.4.2. Простой сценарий debian/rules</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#customrules">5.4.3. Настроенный файл debian/rules</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#variablesrules">5.4.4. Переменные debian/rules</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#reproducible">5.4.5. Повторяемая сборка</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#control">5.5. debian/control</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#split">5.5.1. Split of a Debian binary package</a>
                </span>
              </dt>
              <dd>
                <dl>
                  <dt>
                    <span class="section">
                      <a href="ch05.ru.html#boption">5.5.1.1. debmake -b</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="ch05.ru.html#package-split-example">5.5.1.2. Сценарии и примеры разделения пакета</a>
                    </span>
                  </dt>
                  <dt>
                    <span class="section">
                      <a href="ch05.ru.html#libnames">5.5.1.3. Имя пакета библиотеки</a>
                    </span>
                  </dt>
                </dl>
              </dd>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#substvar">5.5.2. Переменные подстановки</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#binnmu">5.5.3. Безопасная binNMU-загрузка</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#changelog">5.6. debian/changelog</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#copyright">5.7. debian/copyright</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#patches">5.8. debian/patches/*</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#dpkg-source-x">5.8.1. dpkg-source -x</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#quilt-dpkg">5.8.2. dquilt и dpkg-source</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#signing-key">5.9. debian/upstream/signing-key.asc</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#dfsg">5.10. debian/watch и критерии Debian по определению свободного ПО (DFSG)</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#debianconf">5.11. Other debian/* Files</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#custom">5.12. Настройка пакета Debian</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#vcs">5.13. Запись в систему управления версиями (стандарт)</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#alt-vcs">5.14. Запись в систему управления версиями (альтернатива)</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#build-noextra">5.15. Сборка пакета без постороннего содержимого</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#rules-clean">5.15.1. Исправление с помощью debian/rules clean</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#git-clean">5.15.2. Исправление с помощью систем управления версиями</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#extend-diff-ignore">5.15.3. Исправление с помощью extend-diff-ignore</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#tar-ignore">5.15.4. Исправление с помощью tar-ignore</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#build">5.16. Системы сборки основой ветки</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#autotools">5.16.1. Autotools</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#cmake">5.16.2. CMake</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#distutils">5.16.3. Python distutils</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#dbg">5.17. Отладочная информация</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#dbgsym">5.17.1. New -dbgsym package (Stretch 9.0 and after)</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#lib">5.18. Пакет библиотеки</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#symbols">5.18.1. Библиотека символов</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#lib-trans">5.18.2. Смена библиотек</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#debconf">5.19. debconf</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#multiarch">5.20. Multiarch</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#_the_multiarch_library_path">5.20.1. Путь мультиархитектурной библиотеки</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#_the_multiarch_header_file_path">5.20.2. Путь мультархитектурных заголовочных файлов</a>
                </span>
              </dt>
              <dt>
                <span class="section">
                  <a href="ch05.ru.html#_the_multiarch_emphasis_role_strong_pc_emphasis_file_path">5.20.3. Мультиархиектурный путь к файлу <span class="strong"><strong>*.pc</strong></span></a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#harden">5.21. Усиление безопасности компилятора</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#ci">5.22. Непрерывная интеграция</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#bootstrap">5.23. Предзагрузка</a>
            </span>
          </dt>
          <dt>
            <span class="section">
              <a href="ch05.ru.html#bug">5.24. Bug reports</a>
            </span>
          </dt>
        </dl>
      </div>
      <p>A broad overview is presented here for the basic rules of Debian packaging focusing on the non-native Debian package in the “<span class="strong"><strong>3.0 (quilt)</strong></span>” format.</p>
      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top">
              <img alt="[Примечание]" src="images/note.png"/>
            </td>
            <th align="left">Примечание</th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>Для ясности в дайльнейшем были умышленно опущены некоторые детали. Ознакомьтесь со страницами руководства <span class="strong"><strong>dpkg-source</strong></span>(1), <span class="strong"><strong>dpkg-buildpackage</strong></span>(1), <span class="strong"><strong>dpkg</strong></span>(1), <span class="strong"><strong>dpkg-deb</strong></span>(1), <span class="strong"><strong>deb</strong></span>(5) и др.</p>
            </td>
          </tr>
        </table>
      </div>
      <p>Пакет Debian с исходным кодом является набором входных файлов, используемых для сборки двоичного пакета Debian, и не представляет собой только один файл.</p>
      <p>The Debian binary package is a special archive file which holds a set of installable binary data with its associated information.</p>
      <p>Один пакет Debian с исходным кодом может использоваться для создания нескольких двоичных пакетов Debian, определяемых в файле <span class="strong"><strong>debian/control</strong></span>.</p>
      <p>Неродной пакет Debian в формате «<span class="strong"><strong>3.0 (quilt)</strong></span>» является наиболее обычным форматом пакетов Debian с исходным кодом.</p>
      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top">
              <img alt="[Примечание]" src="images/note.png"/>
            </td>
            <th align="left">Примечание</th>
          </tr>
          <tr>
            <td align="left" valign="top">
              <p>Сущесвтует множество обёрточных сценариев. Используйте их для упрощения вашей работы, но обязательно разберитесь с основами их внутреннего устройства.</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="workflow"/>5.1. Работа по созданию пакета</h2>
            </div>
          </div>
        </div>
        <p>The Debian packaging workflow to create a Debian binary package involves generating several specifically named files (see <a class="xref" href="ch05.ru.html#name-version" title="5.2. Имя пакета и версия">Раздел 5.2, «Имя пакета и версия»</a>) as defined in the “Debian Policy Manual”.</p>
        <p>Схематично метод создания пакета Debian может быть представлен в виде следующих 5 шагов.</p>
        <div class="orderedlist">
          <ol class="orderedlist">
            <li class="listitem">Загружается tar-архив основной ветки разработки в виде файла <span class="emphasis"><em>пакет-версия</em></span><span class="strong"><strong>.tar.gz</strong></span>.</li>
            <li class="listitem">Этот архив распаковывается, создаётся множество файлов в каталоге <span class="emphasis"><em>пакет-версия</em></span><span class="strong"><strong>/</strong></span>.</li>
            <li class="listitem">
              <p class="simpara">Архив основной ветки разработки копируется (или создаётся символьная ссылка на него) в файл со специальным именем <span class="emphasis"><em>имяпакета_версия</em></span><span class="strong"><strong>.orig.tar.gz</strong></span>.</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">символ, разделяющий <span class="emphasis"><em>пакет</em></span> и <span class="emphasis"><em>версию</em></span>, заменяется с <span class="strong"><strong>-</strong></span> (дефиса) на <span class="strong"><strong>_</strong></span> (подчёркивание)</li>
                  <li class="listitem">к расширению добавляется <span class="strong"><strong>.orig</strong></span>.</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">К исходному коду основной ветки разработки в каталог <span class="emphasis"><em>пакет-версия</em></span><span class="strong"><strong>/debian/</strong></span> добавляются файлы спецификации пакета Debian.</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
                    <p class="simpara">Обязательные файлы спецификации в каталоге <span class="strong"><strong>debian/</strong></span>*:</p>
                    <div class="variablelist">
                      <dl class="variablelist">
                        <dt>
                          <span class="term">
                            <span class="strong">
                              <strong>debian/rules</strong>
                            </span>
                          </span>
                        </dt>
                        <dd>Исполняемый сценарий для сборки пакета Debian (см. <a class="xref" href="ch05.ru.html#rules" title="5.4. debian/rules">Раздел 5.4, «debian/rules»</a>)</dd>
                        <dt>
                          <span class="term">
                            <span class="strong">
                              <strong>debian/control</strong>
                            </span>
                          </span>
                        </dt>
                        <dd>
The package configuration file containing the source package name, the source build dependencies, the binary package name, the binary dependencies, etc. (see <a class="xref" href="ch05.ru.html#control" title="5.5. debian/control">Раздел 5.5, «debian/control»</a>)
</dd>
                        <dt>
                          <span class="term">
                            <span class="strong">
                              <strong>debian/changelog</strong>
                            </span>
                          </span>
                        </dt>
                        <dd>Файл с историей пакета Debian, определяющий в первой строке версию пакета из основной ветки разработки и номер редакции Debian (см. <a class="xref" href="ch05.ru.html#changelog" title="5.6. debian/changelog">Раздел 5.6, «debian/changelog»</a>)</dd>
                        <dt>
                          <span class="term">
                            <span class="strong">
                              <strong>debian/copyright</strong>
                            </span>
                          </span>
                        </dt>
                        <dd>Информация об авторских правах и лицензии (см. <a class="xref" href="ch05.ru.html#copyright" title="5.7. debian/copyright">Раздел 5.7, «debian/copyright»</a>)</dd>
                      </dl>
                    </div>
                  </li>
                  <li class="listitem">Необязательные файлы спецификации в каталоге <span class="strong"><strong>debian/</strong></span>* (see <a class="xref" href="ch05.ru.html#debianconf" title="5.11. Other debian/* Files">Раздел 5.11, «Other debian/* Files»</a>):</li>
                  <li class="listitem">
                    <p class="simpara">Команда <span class="strong"><strong>debmake</strong></span>, запущенная в каталоге <span class="emphasis"><em>пакет-версия/</em></span>, создаёт изначальный набор шаблонных файлов настройки.</p>
                    <div class="itemizedlist">
                      <ul class="itemizedlist">
                        <li class="listitem">Обязательные файлы спецификации создаются даже при использовании опции <span class="strong"><strong>-x0</strong></span>.</li>
                        <li class="listitem">Команда <span class="strong"><strong>debmake</strong></span> не перезаписывает какие-либо существующией файлы настройки.</li>
                      </ul>
                    </div>
                  </li>
                  <li class="listitem">Эти файлы должны быть отредактированы вручную с целью доведения их до совершенства в соответствии с «Руководством по политике Debian» и «Справочником разработчика Debian».</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">В каталоге <span class="emphasis"><em>пакет-версия/</em></span> выполняется команда <span class="strong"><strong>dpkg-buildpackage</strong></span> (обычно через обёртки <span class="strong"><strong>debuild</strong></span> или <span class="strong"><strong>pdebuild</strong></span>), которая, выполняя сценарий <span class="strong"><strong>debian/rules</strong></span>, создаёт пакет Debian с исходным кодом и двоичные пакеты Debian.</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Текущий каталог устанавливается следующим образом: <span class="strong"><strong>$(CURDIR)=</strong></span><span class="emphasis"><em>/путь/до/пакет-версия/</em></span></li>
                  <li class="listitem">
                    <p class="simpara">Создание пакета Debian с исходным кодом в формате «<span class="strong"><strong>3.0 (quilt)</strong></span>» с помощью <span class="strong"><strong>dpkg-source</strong></span>(1)</p>
                    <div class="itemizedlist">
                      <ul class="itemizedlist">
                        <li class="listitem"><span class="emphasis"><em>пакет_версия</em></span>.<span class="strong"><strong>orig.tar.gz</strong></span> (копия или символьная ссылка на <span class="emphasis"><em>пакет-версия</em></span>.<span class="strong"><strong>tar.gz</strong></span>)</li>
                        <li class="listitem"><span class="emphasis"><em>пакет_версия-редакция</em></span>.<span class="strong"><strong>debian.tar.xz</strong></span> (tar-архив каталога <span class="emphasis"><em>пакет-версия</em></span>/<span class="strong"><strong>debian/</strong></span>*)</li>
                        <li class="listitem"><span class="emphasis"><em>пакет_версия-редакция</em></span>.<span class="strong"><strong>dsc</strong></span></li>
                      </ul>
                    </div>
                  </li>
                  <li class="listitem">
                    <p class="simpara">Сборка исходного кода с помощью «<span class="strong"><strong>debian/rules build</strong></span>» в <span class="strong"><strong>$(DESTDIR)</strong></span></p>
                    <div class="itemizedlist">
                      <ul class="itemizedlist">
                        <li class="listitem"><span class="strong"><strong>DESTDIR=debian</strong></span>/<span class="emphasis"><em>binarypackage/</em></span> (один двоичный пакет)</li>
                        <li class="listitem"><span class="strong"><strong>DESTDIR=debian/tmp/</strong></span> (несколько двоичных пакетов)</li>
                      </ul>
                    </div>
                  </li>
                  <li class="listitem">
                    <p class="simpara">Создание двоичного пакета Debian с помощью <span class="strong"><strong>dpkg-deb</strong></span>(1), <span class="strong"><strong>dpkg-genbuildinfo</strong></span>(1) и <span class="strong"><strong>dpkg-genchanges</strong></span>(1).</p>
                    <div class="itemizedlist">
                      <ul class="itemizedlist">
                        <li class="listitem"><span class="emphasis"><em>двоичныйпакет_версия-редакция_архитектура</em></span>.<span class="strong"><strong>deb</strong></span></li>
                        <li class="listitem">… (Могут существовать несколько файлов с двоичными пакетами Debian.)</li>
                        <li class="listitem"><span class="emphasis"><em>пакет_версия-редакция_архитектура</em></span>.<span class="strong"><strong>changes</strong></span></li>
                      </ul>
                    </div>
                  </li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">Проверка качества пакета Debian с помощью команды <span class="strong"><strong>lintian</strong></span>. (рекомендуется)</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
                    <p class="simpara">
Follow the rejection guidelines from <a class="ulink" href="https://ftp-master.debian.org/">ftp-master</a>.
</p>
                    <div class="itemizedlist">
                      <ul class="itemizedlist">
                        <li class="listitem">
<a class="ulink" href="https://ftp-master.debian.org/REJECT-FAQ.html">REJECT-FAQ</a>
</li>
                        <li class="listitem">
<a class="ulink" href="https://ftp-master.debian.org/NEW-checklist.html">Лист проверок для пакетов из NEW</a>
</li>
                        <li class="listitem"><a class="ulink" href="https://ftp-master.debian.org/#lintianrejects">Автоматические отклонения пакетов Lintian</a> (<a class="ulink" href="https://ftp-master.debian.org/static/lintian.tags">список тегов lintian</a>)</li>
                      </ul>
                    </div>
                  </li>
                </ul>
              </div>
            </li>
            <li class="listitem">
Sign the <span class="emphasis"><em>package_version-revision</em></span>.<span class="strong"><strong>dsc</strong></span> and <span class="emphasis"><em>package_version-revision_arch</em></span>.<span class="strong"><strong>changes</strong></span> files with the <span class="strong"><strong>debsign</strong></span> command using your private GPG key.
</li>
            <li class="listitem">Загрузка набора файлов, содержащего пакет Debian с исходным кодом и двоичного пакета Debian в архив Debian с помощью команды <span class="strong"><strong>dput</strong></span>.</li>
          </ol>
        </div>
        <p>Теперь замените каждую часть имени файла.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">часть <span class="emphasis"><em>пакет</em></span> на имя пакета Debian с исходным кодом</li>
            <li class="listitem">часть <span class="emphasis"><em>двоичныйпакет</em></span> на имя двоичного пакета Debian</li>
            <li class="listitem">часть <span class="emphasis"><em>версия</em></span> на версию основной ветки разработки</li>
            <li class="listitem">часть <span class="emphasis"><em>редакция</em></span> на номер редации Debian</li>
            <li class="listitem">часть <span class="emphasis"><em>архитектура</em></span> на архитектуру пакета</li>
          </ul>
        </div>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Использется множество различных стратегий по управлению заплатами и использованию систем управления версиями. Вам не следует использовать все из них.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>There is very extensive documentation in <a class="ulink" href="https://www.debian.org/doc/manuals/developers-reference/best-pkging-practices.html">Chapter 6. Best Packaging Practices</a> in the “Debian Developer’s Reference”.  Please read it.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="debhelper"/>5.1.1. Пакет <span class="strong"><strong>debhelper</strong></span></h3>
              </div>
            </div>
          </div>
          <p>Although a Debian package can be made by writing a <span class="strong"><strong>debian/rules</strong></span> script without using the <span class="strong"><strong>debhelper</strong></span> package, it is impractical to do so.  There are too many modern “Policy” required features to be addressed, such as application of the proper file permissions, use of the proper architecture dependent library installation path, insertion of the installation hook scripts, generation of the debug symbol package, generation of package dependency information, generation of the package information files, application of the proper timestamp for reproducible build, etc.</p>
          <p><span class="strong"><strong>Debhelper</strong></span> package provides a set of useful scripts in order to simplify Debian’s packaging workflow and reduce the burden of package maintainers. When properly used, they will help packagers handle and implement “Policy” required features automatically.</p>
          <p>Процедура создания пакета Debian в современном стиле может быть организована в виде набора простых модульных действий:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
using the <span class="strong"><strong>dh</strong></span> command to invoke many utility scripts automatically from the <span class="strong"><strong>debhelper</strong></span> package, and
</li>
              <li class="listitem">настройка их поведения с помощью декларативных файлов настройки в каталоге <span class="strong"><strong>debian/</strong></span>.</li>
            </ul>
          </div>
          <p>You should almost always use <span class="strong"><strong>debhelper</strong></span> as your package’s build dependency. This document also assumes that you are using a fairly contemporary version of <span class="strong"><strong>debhelper</strong></span> to handle packaging works in the following contents.</p>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="name-version"/>5.2. Имя пакета и версия</h2>
            </div>
          </div>
        </div>
        <p>Если исходный код основной ветки разработки поставляется в виде архива <span class="strong"><strong>hello-0.9.12.tar.gz</strong></span>, можно использовать <span class="strong"><strong>hello</strong></span> в качестве имени пакета с исходным кодом основной ветки разработки, а <span class="strong"><strong>0.9.12</strong></span> — в качестве версии основной ветки.</p>
        <p>Утилита <span class="strong"><strong>debmake</strong></span> предназначена для создания шаблонных файлов в помощью сопровождающему пакета. Строчки с комментариями начинаются с символа <span class="strong"><strong>#</strong></span> и содержат обучающий текст. Вам следует удалить или отредактировать строки с комментариями до выполнения загрузки пакета в архив Debian.</p>
        <p>The license extraction and assignment process involves a lot of heuristics; it may fail in some cases.  It is highly recommended to use other tools such as <span class="strong"><strong>licensecheck</strong></span> from the <span class="strong"><strong>devscripts</strong></span> package in conjunction with <span class="strong"><strong>debmake</strong></span>.</p>
        <p>There  are some limitations for what characters may be used as a part of the Debian package.  The most notable limitation is the prohibition of uppercase letters in the package name.  Here is a summary as a set of regular expressions:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">Имя пакета основной ветки разработки (<span class="strong"><strong>-p</strong></span>): [-+.a-z0-9]{2,}</li>
            <li class="listitem">Имя двоичного пакета (<span class="strong"><strong>-b</strong></span>): [-+.a-z0-9]{2,}</li>
            <li class="listitem">Версия основной ветки разработки (<span class="strong"><strong>-u</strong></span>): [0-9][-+.:~a-z0-9A-Z]*</li>
            <li class="listitem">Редакция Debian (<span class="strong"><strong>-r</strong></span>): [0-9][+.~a-z0-9A-Z]*</li>
          </ul>
        </div>
        <p>See the exact definition in <a class="ulink" href="https://www.debian.org/doc/debian-policy/#document-ch-controlfields">Chapter 5 - Control files and their fields</a> in the “Debian Policy Manual”.</p>
        <p><span class="strong"><strong>debmake</strong></span> предполагает относительно простые случаи создания пакетов. Поэтому все программы, относящиеся е интерпретатору, считаются «<span class="strong"><strong>Architecture: all</strong></span>». Тем не менее, это не всегда так.</p>
        <p>Вам следует соответствующим образом изменить имя пакета и версию основной ветки разработки для создания пакета Debian.</p>
        <p>Для того, чтобы информация об имени пакета и номере версии эффективно обрабатывались такими популярными инструментами как команда <span class="strong"><strong>aptitude</strong></span>, рекомендуется, чтобы длина имени пакета была равна 30 символам или была меньше; а общая длина версии и редакции была равна 14 символам или меньше. <a href="#ftn.idm1582" class="footnote" id="idm1582"><sup class="footnote">[10]</sup></a></p>
        <p>Для того, чтобы не возникали конфликты, видимое пользователю имя двоичного пакета не следует выбирать из числа распространённых слов.</p>
        <p>If upstream does not use a normal versioning scheme such as <span class="strong"><strong>2.30.32</strong></span> but uses some kind of date such as <span class="strong"><strong>11Apr29</strong></span>, a random codename string, or a VCS hash value as part of the version, make sure to remove them from the upstream version. Such information can be recorded in the <span class="strong"><strong>debian/changelog</strong></span> file. If you need to invent a version string, use the <span class="strong"><strong>YYYYMMDD</strong></span> format such as <span class="strong"><strong>20110429</strong></span> as upstream version. This ensures that the <span class="strong"><strong>dpkg</strong></span> command interprets later versions correctly as upgrades. If you need to ensure a smooth transition to a normal version scheme such as <span class="strong"><strong>0.1</strong></span> in the future, use the <span class="strong"><strong>0~YYMMDD</strong></span> format such as <span class="strong"><strong>0~110429</strong></span> as upstream version, instead.</p>
        <p>Строки версий можно сравнивать друг с другом с помощью команды <span class="strong"><strong>dpkg</strong></span> следующим образом.</p>
        <pre class="screen">$ dpkg --compare-versions ver1 op ver2</pre>
        <p>Правило сравнения версий может быть представлены следующим образом:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">Строки сравниваются в порядке с начала до конца.</li>
            <li class="listitem">Буквы больше чисел.</li>
            <li class="listitem">Числа сравниваются как целые числа.</li>
            <li class="listitem">Буквы сравниваются в порядке таблицы кодов ASCII.</li>
          </ul>
        </div>
        <p>Также имеются специальные правила для символов точки (<span class="strong"><strong>.</strong></span>), плюса (<span class="strong"><strong>+</strong></span>) и тильды (<span class="strong"><strong>~</strong></span>). Они показаны ниже.</p>
        <pre class="screen">0.0 &lt; 0.5 &lt; 0.10 &lt; 0.99 &lt; 1 &lt; 1.0~rc1 &lt; 1.0 &lt; 1.0+b1 &lt; 1.0+nmu1 &lt; 1.1 &lt; 2.0</pre>
        <p>Один сложный случай возникает тогда, когда разработчики основной ветки выпускают <span class="strong"><strong>hello-0.9.12-ReleaseCandidate-99.tar.gz</strong></span> как предварительный выпуск для <span class="strong"><strong>hello-0.9.12.tar.gz</strong></span>. Вам следует гарантировать, что обновление пакета Debian будет происходить правильно, переименовав для этого архив с исходным кодом основной ветки в <span class="strong"><strong>hello-0.9.12~rc99.tar.gz</strong></span>.</p>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="native"/>5.3. Родной пакет Debian</h2>
            </div>
          </div>
        </div>
        <p>Неродной пакет Debian в формате «<span class="strong"><strong>3.0 (quilt)</strong></span>» является самым обычным форматом пакетов Debian с исходным кодом. Файл <span class="strong"><strong>debian/source/format</strong></span> должен содержать строку «<span class="strong"><strong>3.0 (quilt)</strong></span>», что описывается в <span class="strong"><strong>dpkg-source</strong></span>(1). Описанные выше процедуры создания пакетов и примеры используют этот формат.</p>
        <p>A native Debian package is the rare Debian binary package format.  It may be used only when the package is useful and valuable only for Debian.  Thus, its use is generally discouraged.</p>
        <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Caution">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Внимание]" src="images/caution.png"/>
              </td>
              <th align="left">Внимание</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>A native Debian package is often accidentally built when its upstream tarball is not accessible from the <span class="strong"><strong>dpkg-buildpackage</strong></span> command with its correct name <span class="emphasis"><em>package_version</em></span>.<span class="strong"><strong>orig.tar.gz</strong></span> .  This is a typical newbie mistake caused by making a symlink name with “<span class="strong"><strong>-</strong></span>” instead of the correct one with “<span class="strong"><strong>_</strong></span>”.</p>
              </td>
            </tr>
          </table>
        </div>
        <p>A native Debian package has no separation between the <span class="strong"><strong>upstream code</strong></span> and the <span class="strong"><strong>Debian changes</strong></span> and consists only of the following:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem"><span class="emphasis"><em>пакет_версия</em></span>.<span class="strong"><strong>tar.gz</strong></span> (копия или символьная ссылка на <span class="emphasis"><em>пакет-версия</em></span>.<span class="strong"><strong>tar.gz</strong></span> с файлами <span class="strong"><strong>debian/</strong></span>*.)</li>
            <li class="listitem"><span class="emphasis"><em>пакет_версия</em></span>.<span class="strong"><strong>dsc</strong></span></li>
          </ul>
        </div>
        <p>If you need to create a native Debian package, create it in the “<span class="strong"><strong>3.0 (native)</strong></span>” format using <span class="strong"><strong>dpkg-source</strong></span>(1).</p>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Some people promote packaging even programs that have been written only for Debian in the non-native package format.  The required tarball without <span class="strong"><strong>debian/</strong></span>* files needs to be manually generated in advance before the standard workflow in <a class="xref" href="ch05.ru.html#workflow" title="5.1. Работа по созданию пакета">Раздел 5.1, «Работа по созданию пакета»</a>. <a href="#ftn.idm1654" class="footnote" id="idm1654"><sup class="footnote">[11]</sup></a>  They claim that the use of non-native package format eases communication with the downstream distributions.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>При использовании формата родных пкетов нужды заранее создавать tar-архив нет. Родной пакет может быть создан в том случае, если файл <span class="strong"><strong>debian/source/format</strong></span> содержит строку «<span class="strong"><strong>3.0 (native)</strong></span>», в файле <span class="strong"><strong>debian/changelog</strong></span> указана версия без редакции Debian (<span class="strong"><strong>1.0</strong></span> вместо <span class="strong"><strong>1.0-1</strong></span>), а также в дереве исходного кода вызывается команда «<span class="strong"><strong>dpkg-source -b .</strong></span>». Тогда создаётся tar-архив, содержащий исходный код.</p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="rules"/>5.4. debian/rules</h2>
            </div>
          </div>
        </div>
        <p>Сценарий <span class="strong"><strong>debian/rules</strong></span> представляет собой исполняемый сценарий для сборки пакета Debian.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p class="simpara">Сценарий <span class="strong"><strong>debian/rules</strong></span> настраивает сборочную систему основной ветки (см. <a class="xref" href="ch05.ru.html#build" title="5.16. Системы сборки основой ветки">Раздел 5.16, «Системы сборки основой ветки»</a>) не установку файлов в <span class="strong"><strong>$(DESTDIR)</strong></span> и формирует архив созданных файлов в виде файла <span class="strong"><strong>deb</strong></span>.</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Файл <span class="strong"><strong>deb</strong></span> используется для распространения в виде двоичного кода и установки в систему с помощью команды <span class="strong"><strong>dpkg</strong></span>.</li>
                </ul>
              </div>
            </li>
            <li class="listitem">Обычно команда <span class="strong"><strong>dh</strong></span> используется в качестве интерфейса сборочной системы в сценарии <span class="strong"><strong>debian/rules</strong></span>.</li>
            <li class="listitem">
              <p class="simpara">Путь <span class="strong"><strong>$(DESTDIR)</strong></span> зависит от типа сборки.</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem"><span class="strong"><strong>$(DESTDIR)=debian/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> (один двоичный пакет)</li>
                  <li class="listitem"><span class="strong"><strong>$(DESTDIR)=debian/tmp</strong></span> (несколько двоичных пакетов)</li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="dh"/>5.4.1. dh</h3>
              </div>
            </div>
          </div>
          <p>The <span class="strong"><strong>dh</strong></span> command from the <span class="strong"><strong>debhelper</strong></span> package with help from its associated packages functions as the wrapper to the typical upstream build systems and offers us uniform access to them by supporting all the Debian policy stipulated targets of the <span class="strong"><strong>debian/rules</strong></span> file.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem"><span class="strong"><strong>dh clean</strong></span> : вычищет файлы в дереве исходного кода.</li>
              <li class="listitem"><span class="strong"><strong>dh build</strong></span> : сборка дерева исходного кода</li>
              <li class="listitem"><span class="strong"><strong>dh build-arch</strong></span> : сборка зависящих от архитектуры пакетов из дерева исходного кода</li>
              <li class="listitem"><span class="strong"><strong>dh build-indep</strong></span> : сборка независящих от архитектуры пакетов из дерева исходного кода</li>
              <li class="listitem"><span class="strong"><strong>dh install</strong></span> : установка двоичных файлов в <span class="strong"><strong>$(DESTDIR)</strong></span></li>
              <li class="listitem"><span class="strong"><strong>dh install-arch</strong></span> : установка двоичных файлов в <span class="strong"><strong>$(DESTDIR)</strong></span> для зависящих от архитектуры пакетов</li>
              <li class="listitem"><span class="strong"><strong>dh install-indep</strong></span> : установка двоичных файлов в <span class="strong"><strong>$(DESTDIR)</strong></span> для независящих от архитектуры пакетов</li>
              <li class="listitem"><span class="strong"><strong>dh binary</strong></span> : создание файла <span class="strong"><strong>deb</strong></span></li>
              <li class="listitem"><span class="strong"><strong>dh binary-arch</strong></span> : создание файла <span class="strong"><strong>deb</strong></span> для зависящих от архитектуры пакетов</li>
              <li class="listitem"><span class="strong"><strong>dh binary-indep</strong></span> : создание файла <span class="strong"><strong>deb</strong></span> для независящих от архитектуры пакетов</li>
            </ul>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Примечание]" src="images/note.png"/>
                </td>
                <th align="left">Примечание</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Для пакетов, использующих <span class="strong"><strong>debhelper</strong></span> и имеющих «compat &gt;= 9», команда <span class="strong"><strong>dh</strong></span> экспортирует флаги компилятора (<span class="strong"><strong>CFLAGS</strong></span>, <span class="strong"><strong>CXXFLAGS</strong></span>, <span class="strong"><strong>FFLAGS</strong></span>, <span class="strong"><strong>CPPFLAGS</strong></span> и <span class="strong"><strong>LDFLAGS</strong></span>) со значениями, возвращаемыми командой <span class="strong"><strong>dpkg-buildflags</strong></span> в том случае, если они не были установлены ранее. (Команда <span class="strong"><strong>dh</strong></span> вызывает функцию <span class="strong"><strong>set_buildflags</strong></span>, определённую в модуле <span class="strong"><strong>Debian::Debhelper::Dh_Lib</strong></span>.)</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="simplerules"/>5.4.2. Простой сценарий debian/rules</h3>
              </div>
            </div>
          </div>
          <p>Благодаря абстракциям команды <span class="strong"><strong>dh</strong></span> <a href="#ftn.idm1757" class="footnote" id="idm1757"><sup class="footnote">[12]</sup></a> соответствующий политике Debian файл <span class="strong"><strong>debian/rules</strong></span>, поддерживающий все требуемые цели, можно написать так же просто как <a href="#ftn.idm1762" class="footnote" id="idm1762"><sup class="footnote">[13]</sup></a>:</p>
          <p><strong>Простой файл <span class="strong"><strong>debian/rules</strong></span>: </strong>
</p>
          <pre class="screen">#!/usr/bin/make -f
#export DH_VERBOSE = 1

%:
        dh $@</pre>
          <p>
</p>
          <p>По сути, эта команда <span class="strong"><strong>dh</strong></span> работает как планировщик для вызовов всех требуемых команд <span class="strong"><strong>dh_</strong></span>* в нужный момент.</p>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Примечание]" src="images/note.png"/>
                </td>
                <th align="left">Примечание</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Команда <span class="strong"><strong>debmake</strong></span> добавляет в файл <span class="strong"><strong>debian/control</strong></span> строку «<span class="strong"><strong>Build-Depends: debhelper (&gt;=9)</strong></span>», а в файл <span class="strong"><strong>debian/compat</strong></span> помещает строку «<span class="strong"><strong>9</strong></span>».</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Подсказка]" src="images/tip.png"/>
                </td>
                <th align="left">Подсказка</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Установка «<span class="strong"><strong>export DH_VERBOSE = 1</strong></span>» приводит к тому, что в выводе отражаются все команды, изменяющие файлы в сборочной системе. Кроме того, для некоторых систем сборки это включает режим создания более подробных журналов.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="customrules"/>5.4.3. Настроенный файл debian/rules</h3>
              </div>
            </div>
          </div>
          <p>Гибкая настройка сценария <span class="strong"><strong>debian/rules</strong></span> осуществляется путём добавления соответствующих целей <span class="strong"><strong>override_dh_</strong></span>* и их правил.</p>
          <p>Всякий раз как требуется выполнить какую-то специальную операцию для определённой команды <span class="strong"><strong>dh_</strong></span><span class="emphasis"><em>foo</em></span>, вызываемой командой <span class="strong"><strong>dh</strong></span>, всякое автоматическое выполнение её может быть отменено путём добавления Makefile-цели <span class="strong"><strong>override_dh_</strong></span><span class="emphasis"><em>foo</em></span> в файл <span class="strong"><strong>debian/rules</strong></span>.</p>
          <p>The build process may be customized via the upstream provided interface such as arguments to the standard source build system commands, such as:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem"><span class="strong"><strong>configure</strong></span>,</li>
              <li class="listitem"><span class="strong"><strong>Makefile</strong></span>,</li>
              <li class="listitem"><span class="strong"><strong>setup.py</strong></span> или</li>
              <li class="listitem"><span class="strong"><strong>Build.PL</strong></span>.</li>
            </ul>
          </div>
          <p>If this is the case, you should add the <span class="strong"><strong>override_dh_auto_build</strong></span> target and executing the “<span class="strong"><strong>dh_auto_build --</strong></span> <span class="emphasis"><em>arguments”</em></span> command.  This ensures passing <span class="emphasis"><em>arguments</em></span> to the such build system after the default parameters that <span class="strong"><strong>dh_auto_build</strong></span> usually passes.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Подсказка]" src="images/tip.png"/>
                </td>
                <th align="left">Подсказка</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Please try not to execute the above build system commands directly if they are supported by the <span class="strong"><strong>dh_auto_build</strong></span> command.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>The <span class="strong"><strong>debmake</strong></span> command creates the initial template file taking advantage of the above simple <span class="strong"><strong>debian/rules</strong></span> file example while adding some extra customizations for package hardening, etc. You need to know how underlying build systems work under the hood (see <a class="xref" href="ch05.ru.html#build" title="5.16. Системы сборки основой ветки">Раздел 5.16, «Системы сборки основой ветки»</a>) to address their irregularities using package customization.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
See <a class="xref" href="ch04.ru.html#step-maintainer" title="4.6. Шаг 3: изменение шаблонных файлов">Раздел 4.6, «Шаг 3: изменение шаблонных файлов»</a> for basic customization of the template <span class="strong"><strong>debian/rules</strong></span> file generated by the <span class="strong"><strong>debmake</strong></span> command.
</li>
              <li class="listitem">
See <a class="xref" href="ch05.ru.html#multiarch" title="5.20. Multiarch">Раздел 5.20, «Multiarch»</a> for multiarch customization.
</li>
              <li class="listitem">Информацию о настройке улучшений безопасности см. в <a class="xref" href="ch05.ru.html#harden" title="5.21. Усиление безопасности компилятора">Раздел 5.21, «Усиление безопасности компилятора»</a>.</li>
            </ul>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="variablesrules"/>5.4.4. Переменные debian/rules</h3>
              </div>
            </div>
          </div>
          <p>Некоторые определения переменных, которые могут оказаться полезными для <span class="strong"><strong>debian/rules</strong></span>, можно найти в файлах в каталоге <span class="strong"><strong>/usr/share/dpkg/</strong></span>. В частности:</p>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <span class="strong">
                    <strong>pkg-info.mk</strong>
                  </span>
                </span>
              </dt>
              <dd>
  <span class="strong"><strong>DEB_SOURCE</strong></span>, <span class="strong"><strong>DEB_VERSION</strong></span>, <span class="strong"><strong>DEB_VERSION_EPOCH_UPSTREAM</strong></span>, <span class="strong"><strong>DEB_VERSION_UPSTREAM_REVISION</strong></span>, <span class="strong"><strong>DEB_VERSION_UPSTREAM</strong></span>, and <span class="strong"><strong>DEB_DISTRIBUTION</strong></span> variables.
 
  These are useful for backport support etc..
</dd>
              <dt>
                <span class="term">
<span class="strong"><strong>vendor.mk</strong></span>
</span>
              </dt>
              <dd>
  <span class="strong"><strong>DEB_VENDOR</strong></span> and <span class="strong"><strong>DEB_PARENT_VENDOR</strong></span> variables; and <span class="strong"><strong>dpkg_vendor_derives_from</strong></span> macro.
 
  These are useful for vendor support (Debian, Ubuntu, …).
</dd>
              <dt>
                <span class="term">
                  <span class="strong">
                    <strong>architecture.mk</strong>
                  </span>
                </span>
              </dt>
              <dd>
  Set <span class="strong"><strong>DEB_HOST_</strong></span>* and  <span class="strong"><strong>DEB_BUILD_</strong></span>* variables.
 
  An alternative method of retrieving those variables is to invoke <span class="strong"><strong>dpkg-architecture</strong></span> directly and query the value of a single variable. With explicit invocation of <span class="strong"><strong>dpkg-architecture</strong></span> to retrieve necessary variables, there is no need to include <span class="strong"><strong>architecture.mk</strong></span> in <span class="strong"><strong>debian/rules</strong></span>, which would import all architecture-related variables.
</dd>
              <dt>
                <span class="term">
                  <span class="strong">
                    <strong>buildflags.mk</strong>
                  </span>
                </span>
              </dt>
              <dd>Установите флаги сборки <span class="strong"><strong>CFLAGS</strong></span>, <span class="strong"><strong>CPPFLAGS</strong></span>, <span class="strong"><strong>CXXFLAGS</strong></span>, <span class="strong"><strong>OBJCFLAGS</strong></span>, <span class="strong"><strong>OBJCXXFLAGS</strong></span>, <span class="strong"><strong>GCJFLAGS</strong></span>, <span class="strong"><strong>FFLAGS</strong></span>, <span class="strong"><strong>FCFLAGS</strong></span> и <span class="strong"><strong>LDFLAGS</strong></span>.</dd>
            </dl>
          </div>
          <p>If you wish to use some of these useful variables in <span class="strong"><strong>debian/rules</strong></span>, copy relevant code to <span class="strong"><strong>debian/rules</strong></span> or write a simpler alternative in it.  Please keep <span class="strong"><strong>debian/rules</strong></span> simple.</p>
          <p>Например, можно добавить дополнительную опцию в <span class="strong"><strong>CONFIGURE_FLAGS</strong></span> для архитектур <span class="strong"><strong>linux-any</strong></span>, добавляя следующее в файл <span class="strong"><strong>debian/rules</strong></span>:</p>
          <pre class="screen">DEB_HOST_ARCH_OS ?= $(shell dpkg-architecture -qDEB_HOST_ARCH_OS)
 ...
ifeq ($(DEB_HOST_ARCH_OS),linux)
CONFIGURE_FLAGS += --enable-wayland
endif</pre>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Подсказка]" src="images/tip.png"/>
                </td>
                <th align="left">Подсказка</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>It was useful to include <span class="strong"><strong>buildflags.mk</strong></span> in <span class="strong"><strong>debian/rules</strong></span> to set the build flags such as <span class="strong"><strong>CPPFLAGS</strong></span>, <span class="strong"><strong>CFLAGS</strong></span>, <span class="strong"><strong>LDFLAGS</strong></span>, etc. properly while honoring <span class="strong"><strong>DEB_CFLAGS_MAINT_APPEND</strong></span>, <span class="strong"><strong>DEB_BUILD_MAINT_OPTIONS</strong></span>, etc. for the <span class="strong"><strong>debhelper</strong></span> “compat &lt;= 8”.  Now you should use the <span class="strong"><strong>debhelper</strong></span> “compat &gt;= 9”, should not include <span class="strong"><strong>buildflags.mk</strong></span> without specific reasons, and should let the <span class="strong"><strong>dh</strong></span> command set these build flags.</p>
                </td>
              </tr>
            </table>
          </div>
          <p>См. <a class="xref" href="ch05.ru.html#multiarch" title="5.20. Multiarch">Раздел 5.20, «Multiarch»</a>, <span class="strong"><strong>dpkg-architecture</strong></span>(1) и <span class="strong"><strong>dpkg-buildflags</strong></span>(1).</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="reproducible"/>5.4.5. Повторяемая сборка</h3>
              </div>
            </div>
          </div>
          <p>Here are some recommendations to attain a reproducible build result.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">Не включайте в результат временную метку на основе системного времени.</li>
              <li class="listitem">Используйте «<span class="strong"><strong>dh $@</strong></span>» в <span class="strong"><strong>debian/rules</strong></span> для обращения к самым новым возможностям <span class="strong"><strong>debhelper</strong></span>.</li>
              <li class="listitem">Экспортируйте окружение сборка как «<span class="strong"><strong>LC_ALL=C.UTF-8</strong></span>» (см. <a class="xref" href="ch07.ru.html#utf-8-build" title="7.15. Сборка с использованием кодировки UTF-8">Раздел 7.15, «Сборка с использованием кодировки UTF-8»</a>).</li>
              <li class="listitem">
Set the timestamp used in the upstream source from the value of the debhelper-provided environment variable <span class="strong"><strong>$SOURCE_DATE_EPOCH</strong></span>.
</li>
              <li class="listitem">
                <p class="simpara">Подробности можно найти на вики-странице <a class="ulink" href="https://wiki.debian.org/ReproducibleBuilds">ReproducibleBuilds</a>.</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem"><a class="ulink" href="https://wiki.debian.org/ReproducibleBuilds/Howto">Руководство ReproducibleBuilds</a>.</li>
                    <li class="listitem"><a class="ulink" href="https://wiki.debian.org/ReproducibleBuilds/TimestampsProposal">ReproducibleBuilds TimestampsProposal</a>.</li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
          <p>Управляющий файл <span class="emphasis"><em>имя-исходного-кода_версия-исходного-кода_архитектура</em></span><span class="strong"><strong>.buildinfo</strong></span>, создаваемый <span class="strong"><strong>dpkg-genbuildinfo</strong></span>(1), содержит информацию о сборочном окружении. См. <span class="strong"><strong>deb-buildinfo</strong></span>(5)</p>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="control"/>5.5. debian/control</h2>
            </div>
          </div>
        </div>
        <p>The <span class="strong"><strong>debian/control</strong></span> file consists of blocks of meta data separated by a blank line.  Each block of meta data defines the following in this order:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">метаданных пакета Debian с исходным кодом</li>
            <li class="listitem">метаданные двоичных пакетов Debian</li>
          </ul>
        </div>
        <p>Определение каждой части этих метаданных см. в <a class="ulink" href="https://www.debian.org/doc/debian-policy/#document-ch-controlfields">Глава 5 — Управляющие файлы и их поля</a> «Руководства по политике Debian».</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="split"/>5.5.1. Split of a Debian binary package</h3>
              </div>
            </div>
          </div>
          <p>For well behaving build systems, the split of a Debian binary package into small ones can be realized as follows.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">Создайте записи с определениями метаданных двоичных пакетах в файле <span class="strong"><strong>debian/control</strong></span> для всех двоичных пакетов.</li>
              <li class="listitem">Укажите все пути к файлам (относительно каталга <span class="strong"><strong>debian/tmp</strong></span>) в соответствующих файлах <span class="strong"><strong>debian/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.install</strong></span>.</li>
            </ul>
          </div>
          <p>С примерами можно ознакомиться в настоящем руководстве:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem"><a class="xref" href="ch08.ru.html#autotools-multi" title="8.11. Autotools (multi-binary package)">Раздел 8.11, «Autotools (multi-binary package)»</a> (на основе Autotools)</li>
              <li class="listitem"><a class="xref" href="ch08.ru.html#cmake-multi" title="8.12. CMake (multi-binary package)">Раздел 8.12, «CMake (multi-binary package)»</a> (на основе CMake)</li>
            </ul>
          </div>
          <div class="section">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="boption"/>5.5.1.1. debmake -b</h4>
                </div>
              </div>
            </div>
            <p>The <span class="strong"><strong>debmake</strong></span> command with the <span class="strong"><strong>-b</strong></span> option provides an intuitive and flexible method to create the initial template <span class="strong"><strong>debian/control</strong></span> file defining the split of the Debian binary packages with following stanzas:</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
                  <span class="strong">
                    <strong>Package:</strong>
                  </span>
                </li>
                <li class="listitem">
                  <span class="strong">
                    <strong>Architecture:</strong>
                  </span>
                </li>
                <li class="listitem">
                  <span class="strong">
                    <strong>Multi-Arch:</strong>
                  </span>
                </li>
                <li class="listitem">
                  <span class="strong">
                    <strong>Depends:</strong>
                  </span>
                </li>
                <li class="listitem">
                  <span class="strong">
                    <strong>Pre-Depends:</strong>
                  </span>
                </li>
              </ul>
            </div>
            <p>The <span class="strong"><strong>debmake</strong></span> command also sets an appropriate set of substvars used in each pertinent dependency stanza.</p>
            <p>Ниже приводится цитата соответствующей части страницы руководства <span class="strong"><strong>debmake</strong></span>.</p>
            <div class="variablelist">
              <dl class="variablelist">
                <dt>
                  <span class="term"><span class="strong"><strong>-b</strong></span> "<span class="emphasis"><em>двоичныйпакет[:тип],…</em></span>", <span class="strong"><strong>--binaryspec</strong></span> "<span class="emphasis"><em>двоичныйпакет[:тип],…</em></span>"</span>
                </dt>
                <dd>
                  <p class="simpara">
set the binary package specs by a comma separated list of <span class="emphasis"><em>binarypackage:type</em></span> pairs, e.g., in the full form “<span class="strong"><strong>foo:bin,foo-doc:doc,libfoo1:lib,libfoo-dev:dev</strong></span>” or in the short form, “<span class="strong"><strong>-doc,libfoo1,libfoo-dev</strong></span>”.
</p>
                  <p class="simpara">Here, <span class="emphasis"><em>binarypackage</em></span> is the binary package name, and the optional <span class="emphasis"><em>type</em></span> is chosen from the following <span class="emphasis"><em>type</em></span> values:</p>
                  <div class="itemizedlist">
                    <ul class="itemizedlist">
                      <li class="listitem"><span class="strong"><strong>bin</strong></span>: скомпилированный двоичный пакет с исполняемыми файлами формата ELF на языке C/C++ (any, foreign) (по умолчанию, псевдоним: <span class="strong"><strong>""</strong></span>, то есть <span class="emphasis"><em>пустая-строка</em></span>)</li>
                      <li class="listitem"><span class="strong"><strong>data</strong></span>: пакет с данными (шрифты, графика, …) (all, foreign) (псевдоним: <span class="strong"><strong>da</strong></span>)</li>
                      <li class="listitem"><span class="strong"><strong>dev</strong></span>: пакет с библиотекой разработки (any, same) (псевдоним: <span class="strong"><strong>de</strong></span>)</li>
                      <li class="listitem"><span class="strong"><strong>doc</strong></span>: пакет документации (all, foreign) (псевдоним: <span class="strong"><strong>do</strong></span>)</li>
                      <li class="listitem"><span class="strong"><strong>lib</strong></span>: пакет с библиотекой (any, same) (псевдоним: <span class="strong"><strong>l</strong></span>)</li>
                      <li class="listitem"><span class="strong"><strong>perl</strong></span>: пакет со сценарием на языке Perl (all, foreign) (псевдоним: <span class="strong"><strong>pl</strong></span>)</li>
                      <li class="listitem"><span class="strong"><strong>python</strong></span>: пакет со сценарием на языке Python (all, foreign) (псевдоним: <span class="strong"><strong>py</strong></span>)</li>
                      <li class="listitem"><span class="strong"><strong>python3</strong></span>: пакет со сценарием на языке Python3 (all, foreign) (псевдоним: <span class="strong"><strong>py3</strong></span>)</li>
                      <li class="listitem"><span class="strong"><strong>ruby</strong></span>: пакет со сценарием на языке Ruby (all, foreign) (псевдоним: <span class="strong"><strong>rb</strong></span>)</li>
                      <li class="listitem"><span class="strong"><strong>script</strong></span>: пакет со сценарием командной оболочки (all, foreign) (псевдоним: <span class="strong"><strong>sh</strong></span>)</li>
                    </ul>
                  </div>
                  <p class="simpara">Пары значений в скобках, такие как (any, foreign), представляют собой значения служебных строк <span class="strong"><strong>Architecture</strong></span> и <span class="strong"><strong>Multi-Arch</strong></span>, устанавливаемые в файле <span class="strong"><strong>debian/control</strong></span>.</p>
                  <p class="simpara">Во многих случаях команда <span class="strong"><strong>debmake</strong></span> довольно хорошо предсказывает значение поля <span class="emphasis"><em>тип</em></span>, исходя из значения поля <span class="emphasis"><em>двоичныйпакет</em></span>. Если <span class="emphasis"><em>тип</em></span> не очевиден, то значением поля <span class="emphasis"><em>тип</em></span> становится <span class="strong"><strong>bin</strong></span>. Например, исходя из <span class="strong"><strong>libfoo</strong></span> значением поля <span class="emphasis"><em>тип</em></span> становится <span class="strong"><strong>lib</strong></span>, а исходя из <span class="strong"><strong>font-bar</strong></span> значением поля <span class="emphasis"><em>тип</em></span> становится <span class="strong"><strong>data</strong></span>, …</p>
                  <p class="simpara">Если содержимое дерева исходного кода не совпадает с настройками поля <span class="emphasis"><em>тип</em></span>, то команда <span class="strong"><strong>debmake</strong></span> выводит предупреждение.</p>
                </dd>
              </dl>
            </div>
          </div>
          <div class="section">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="package-split-example"/>5.5.1.2. Сценарии и примеры разделения пакета</h4>
                </div>
              </div>
            </div>
            <p>Ниже приводится несколько типичных сценариев разделения мультиархитектурного пакета для следующих примеров исходного кода основной ветки разработки, в которых используется команда <span class="strong"><strong>debmake</strong></span>:</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">исходный код библиотеки <span class="emphasis"><em>libfoo-1.0</em></span><span class="strong"><strong>.tar.gz</strong></span></li>
                <li class="listitem">исходный код утилиты <span class="emphasis"><em>bar-1.0</em></span><span class="strong"><strong>.tar.gz</strong></span>, написанный на компилируемом языке</li>
                <li class="listitem">исходный код утилиты <span class="emphasis"><em>baz-1.0</em></span><span class="strong"><strong>.tar.gz</strong></span>, написанный на интерпретируемом языке</li>
              </ul>
            </div>
            <div class="informaltable">
              <table class="informaltable" border="1">
                <colgroup>
                  <col class="col_1"/>
                  <col class="col_2"/>
                  <col class="col_3"/>
                  <col class="col_4"/>
                  <col class="col_5"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left" valign="top">
                      <span class="emphasis">
                        <em>двоичныйпакет</em>
                      </span>
                    </th>
                    <th style="text-align: left" valign="top">
                      <span class="emphasis">
                        <em>тип</em>
                      </span>
                    </th>
                    <th style="text-align: left" valign="top">
                      <span class="strong">
                        <strong>Architecture:</strong>
                      </span>
                    </th>
                    <th style="text-align: left" valign="top">
                      <span class="strong">
                        <strong>Multi-Arch:</strong>
                      </span>
                    </th>
                    <th style="text-align: left" valign="top">Содержимое пакета</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>lib</strong>
                        </span>
                        <span class="emphasis">
                          <em>foo1</em>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>lib</strong>
                        </span>
                        <sup>*</sup>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>any</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>same</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>разделяемая бибиотека, возможна совместная установка</p>
                    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>lib</strong>
                        </span>
                        <span class="emphasis">
                          <em>foo</em>
                        </span>
                        <span class="strong">
                          <strong>-dev</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>dev</strong>
                        </span>
                        <sup>*</sup>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>any</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>same</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>заголовочные файлы разделяемой библиотеки и проч., возможна совместная установка</p>
                    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>lib</strong>
                        </span>
                        <span class="emphasis">
                          <em>foo</em>
                        </span>
                        <span class="strong">
                          <strong>-tools</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>bin</strong>
                        </span>
                        <sup>*</sup>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>any</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>foreign</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>программы с поддержкой времени исполнения, совместная установка невозможна</p>
                    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>lib</strong>
                        </span>
                        <span class="emphasis">
                          <em>foo</em>
                        </span>
                        <span class="strong">
                          <strong>-doc</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>doc</strong>
                        </span>
                        <sup>*</sup>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>all</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>foreign</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>файлы документации разделяемой библиотеки</p>
                    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="emphasis">
                          <em>bar</em>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>bin</strong>
                        </span>
                        <sup>*</sup>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>any</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>foreign</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>скомпилированный файлы программы, совместная устанвка невозможна</p>
                    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="emphasis">
                          <em>bar</em>
                        </span>
                        <span class="strong">
                          <strong>-doc</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>doc</strong>
                        </span>
                        <sup>*</sup>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>all</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>foreign</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>файлы документации программы</p>
                    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="emphasis">
                          <em>baz</em>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>script</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>all</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>foreign</p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>файлы интерпретируемой программы</p>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="section">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title"><a id="libnames"/>5.5.1.3. Имя пакета библиотеки</h4>
                </div>
              </div>
            </div>
            <p>Let’s consider that the upstream source tarball of the <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo</em></span> library is updated from <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo-7.0</em></span><span class="strong"><strong>.tar.gz</strong></span> to <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo-8.0</em></span><span class="strong"><strong>.tar.gz</strong></span> with a new SONAME major version which affects other packages.</p>
            <p>Двоичный пакет библиотеки следует переименовать с <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo7</em></span> в <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo8</em></span>, чтобы после загрузки пакета, созданного из на осно, в <span class="strong"><strong>unstable</strong></span> все зависимые пакеты остались в рабочем состоянии.</p>
            <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
              <table border="0" summary="Warning">
                <tr>
                  <td rowspan="2" align="center" valign="top">
                    <img alt="[Предупреждение]" src="images/warning.png"/>
                  </td>
                  <th align="left">Предупреждение</th>
                </tr>
                <tr>
                  <td align="left" valign="top">
                    <p>If the binary library package isn’t renamed, many dependent packages in the <span class="strong"><strong>unstable</strong></span> suite become broken just after the library upload even if a binNMU upload is requested.  The binNMU may not happen immediately after the upload due to several reasons.</p>
                  </td>
                </tr>
              </table>
            </div>
            <p>Пакет <span class="strong"><strong>-dev</strong></span> должен соответствовать следующим правилам именования:</p>
            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem">
                  <p class="simpara">Используйте имя пакета <span class="strong"><strong>-dev без номера версии</strong></span>: <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo</em></span><span class="strong"><strong>-dev</strong></span></p>
                  <div class="itemizedlist">
                    <ul class="itemizedlist">
                      <li class="listitem">
This is the typical one for leaf library packages.
</li>
                      <li class="listitem">
                        <p class="simpara">В архиве может находится только одна версия пакета с исходным кодом библиотеки.</p>
                        <div class="itemizedlist">
                          <ul class="itemizedlist">
                            <li class="listitem">
The associated library package needs to be renamed from <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo7</em></span> to <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo8</em></span> to prevent dependency breakage in the <span class="strong"><strong>unstable</strong></span> archive during the library transition.
</li>
                          </ul>
                        </div>
                      </li>
                      <li class="listitem">Данный подход следует использовать в том случае, если простая binNMU-загрузка быстро разрешает проблемы с зависимостями от такой библиотеки для всех использующих её пакетов. (Изменение <a class="ulink" href="https://en.wikipedia.org/wiki/Application_binary_interface">ABI</a> путём прекращения поддержки устаревшего <a class="ulink" href="https://en.wikipedia.org/wiki/Application_programming_interface">API</a> с сохранением активного API без изменений.)</li>
                      <li class="listitem">Этот подход всё равно может быть хорошей идеей в случае том случае, если ручное обновление кода и проч. можно координировать и осуществить для ограниченного числа пакетов. (Изменение <a class="ulink" href="https://en.wikipedia.org/wiki/Application_programming_interface">API</a>)</li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p class="simpara">Используйте имена пакетов <span class="strong"><strong>-dev с указанием версии</strong></span>: <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo7</em></span><span class="strong"><strong>-dev</strong></span> и <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo8</em></span><span class="strong"><strong>-dev</strong></span></p>
                  <div class="itemizedlist">
                    <ul class="itemizedlist">
                      <li class="listitem">
This is typical for many major library packages.
</li>
                      <li class="listitem">
                        <p class="simpara">В архиве могут находится две версии пакетов с исходным кодом библиотеки.</p>
                        <div class="itemizedlist">
                          <ul class="itemizedlist">
                            <li class="listitem">Все зависимые пакет должны зависить от <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo</em></span><span class="strong"><strong>-dev</strong></span>.</li>
                            <li class="listitem">Пусть и <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo7</em></span><span class="strong"><strong>-dev</strong></span>, и <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo8</em></span><span class="strong"><strong>-dev</strong></span> предоставляют <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo</em></span><span class="strong"><strong>-dev</strong></span>.</li>
                            <li class="listitem">Пакет с исходным кодом следует переименовать в <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo7-7.0</em></span><span class="strong"><strong>.tar.gz</strong></span> и <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo8-8.0</em></span><span class="strong"><strong>.tar.gz</strong></span>, соответственно, из <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo-?.0</em></span><span class="strong"><strong>.tar.gz</strong></span>.</li>
                            <li class="listitem">В зависимости от пакета путь установки файлов, включающий <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo7</em></span> и <span class="strong"><strong>lib</strong></span><span class="emphasis"><em>foo8</em></span>, соответственно, для заголовочных файлов и проч., следует выбирать так, чтобы их можно было установить одновременно.</li>
                          </ul>
                        </div>
                      </li>
                      <li class="listitem">По возможности не используйте слишком жёсткий подход.</li>
                      <li class="listitem">
This approach should be used if the update of multiple dependent packages require manual code updates, etc. (<a class="ulink" href="https://en.wikipedia.org/wiki/Application_programming_interface">API</a> change)  Otherwise, the affected packages become RC buggy with FTBFS.
</li>
                    </ul>
                  </div>
                </li>
              </ul>
            </div>
            <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
              <table border="0" summary="Tip">
                <tr>
                  <td rowspan="2" align="center" valign="top">
                    <img alt="[Подсказка]" src="images/tip.png"/>
                  </td>
                  <th align="left">Подсказка</th>
                </tr>
                <tr>
                  <td align="left" valign="top">
                    <p>If the data encoding scheme changes (e.g., latin1 to utf-8), the same care as the API change needs to be taken.</p>
                  </td>
                </tr>
              </table>
            </div>
            <p>См. <a class="xref" href="ch05.ru.html#lib" title="5.18. Пакет библиотеки">Раздел 5.18, «Пакет библиотеки»</a>.</p>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="substvar"/>5.5.2. Переменные подстановки</h3>
              </div>
            </div>
          </div>
          <p>Кроме того, файл <span class="strong"><strong>debian/control</strong></span> определяет зависимости пакета, в которых может исопльзоваться <a class="ulink" href="https://www.debian.org/doc/debian-policy/ch-source.html#s-substvars">механизм подстановки переменных</a> (substvar), который освобождает сопровождающих пакета от рутинной работы по отслеживанию большинства простых зависимостей пакета. См. <span class="strong"><strong>deb-substvars</strong></span>(5).</p>
          <p>The <span class="strong"><strong>debmake</strong></span> command supports the following substvars:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem"><span class="strong"><strong>${misc:Depends}</strong></span> для всех двоичных пакетов</li>
              <li class="listitem"><span class="strong"><strong>${misc:Pre-Depends}</strong></span> для всех мультиархитектурных пакетов</li>
              <li class="listitem"><span class="strong"><strong>${shlibs:Depends}</strong></span> для всех двоичных пакетов с исполняемыми файлами и пакетов библиотек</li>
              <li class="listitem"><span class="strong"><strong>${python:Depends}</strong></span> для всех пакетов с кодом на языке Python</li>
              <li class="listitem"><span class="strong"><strong>${python3:Depends}</strong></span> для всех пакетов с кодом на языке Python3</li>
              <li class="listitem"><span class="strong"><strong>${perl:Depends}</strong></span> для всех пакетов с кодом на языке Perl</li>
              <li class="listitem"><span class="strong"><strong>${ruby:Depends}</strong></span> для всех пакетов с кодом на языке Ruby</li>
            </ul>
          </div>
          <p>Для разделяемых библиотек необходимые библиотеки обнаруживаются с помощью просто команды «<span class="strong"><strong>objdump -p</strong></span> <span class="emphasis"><em>/путь/к/программе</em></span> <span class="strong"><strong>| grep NEEDED</strong></span>» и обрабатываются переменной подстановки <span class="strong"><strong>shlib</strong></span>.</p>
          <p>For Python and other interpreters, required modules found simply looking for lines with “<span class="strong"><strong>import</strong></span>”, “<span class="strong"><strong>use</strong></span>”, “<span class="strong"><strong>require</strong></span>”, etc., are covered by the corresponding substvars.</p>
          <p>Для остальных программ, не использующих собственные переменные подстановки, зависимости обрабатываются переменной <span class="strong"><strong>misc</strong></span>.</p>
          <p>Для программ командной оболочки POSIX нет простого способа определения зависимостей, поэтому их зависимости не обрабатываются никакой переменной.</p>
          <p>Для библиотек и модулей, требующихся через механизм динамической загрузки, включая механизм <a class="ulink" href="https://wiki.gnome.org/Projects/GObjectIntrospection">GObject-интроспекция</a>, нет простого способа определения зависимостей, поэтому их зависимости не обрабатываются никакой переменной.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="binnmu"/>5.5.3. Безопасная binNMU-загрузка</h3>
              </div>
            </div>
          </div>
          <p>A <a class="ulink" href="https://wiki.debian.org/binNMU">binNMU</a> is a binary-only non-maintainer upload performed for library transitions etc.  In a binNMU upload, only the “<span class="strong"><strong>Architecture: any</strong></span>” packages are rebuilt with a suffixed version number (e.g. version 2.3.4-3 will become 2.3.4-3+b1).  The “<span class="strong"><strong>Architecture: all</strong></span>” packages are not built.</p>
          <p>The dependency defined in the <span class="strong"><strong>debian/control</strong></span> file among binary packages from the same source package should be safe for the binNMU.  This needs attention if there are both “<span class="strong"><strong>Architecture: any</strong></span>” and “<span class="strong"><strong>Architecture: all</strong></span>” packages involved in it.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p class="simpara">
“<span class="strong"><strong>Architecture: any</strong></span>” package: depends on “<span class="strong"><strong>Architecture: any</strong></span>” <span class="emphasis"><em>foo</em></span> package
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem"><span class="strong"><strong>Depends:</strong></span> <span class="emphasis"><em>foo</em></span> <span class="strong"><strong>(= ${binary:Version})</strong></span></li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p class="simpara">
“<span class="strong"><strong>Architecture: any</strong></span>” package: depends on “<span class="strong"><strong>Architecture: all</strong></span>” <span class="emphasis"><em>bar</em></span> package
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem"><span class="strong"><strong>Depends:</strong></span> <span class="emphasis"><em>bar</em></span> <span class="strong"><strong>(= ${source:Version}</strong></span></li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p class="simpara">
“<span class="strong"><strong>Architecture: all</strong></span>” package: depends on “<span class="strong"><strong>Architecture: any</strong></span>” <span class="emphasis"><em>baz</em></span> package
</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem"><span class="strong"><strong>Depends:</strong></span> <span class="emphasis"><em>baz</em></span> <span class="strong"><strong>(&gt;= ${source:Version})</strong></span>, <span class="emphasis"><em>baz</em></span> <span class="strong"><strong>(&lt;&lt; ${source:Upstream-Version}.0~)</strong></span></li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="changelog"/>5.6. debian/changelog</h2>
            </div>
          </div>
        </div>
        <p>The <span class="strong"><strong>debian/changelog</strong></span> file records the Debian package history and defines the upstream package version and the Debian revision in its first line.  The changes need to be documented in the specific, formal, and concise style.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p class="simpara">
Even if you are uploading your package by yourself, you must document all non-trivial user-visible changes such as:
</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
the security related bug fixes.
</li>
                  <li class="listitem">
the user interface changes.
</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">
If you are asking your sponsor to upload it, you should document changes more comprehensively, including all packaging related ones, to help reviewing your package.
</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
The sponsor shouldn’t second guess your thought behind your package.
</li>
                  <li class="listitem">
The sponsor’s time is more valuable than yours.
</li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <p>Команда <span class="strong"><strong>debmake</strong></span> создаёт изначальный шаблонный файл с версией основной ветки и редакцией Debian. С целью предотвращения случайной загрузки в архив Debian выбирается выпуск <span class="strong"><strong>UNRELEASED</strong></span>.</p>
        <p>The <span class="strong"><strong>debchange</strong></span> command (alias <span class="strong"><strong>dch</strong></span>) is commonly used to edit this.</p>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>You can edit the <span class="strong"><strong>debian/changelog</strong></span> file manually with any text editor as long as you follow the formatting convention used by the <span class="strong"><strong>debchange</strong></span> command.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Строка с датой, используемая в файле <span class="strong"><strong>debian/changelog</strong></span>, может быть создана вручную с помощью команды «<span class="strong"><strong>LC_ALL=C date -R</strong></span>».</p>
              </td>
            </tr>
          </table>
        </div>
        <p>Этот файл устанавливается командой <span class="strong"><strong>dh_installchangelogs</strong></span> в каталог <span class="strong"><strong>/usr/share/doc/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> под именем <span class="strong"><strong>changelog.Debian.gz</strong></span>.</p>
        <p>Журнал изменений основной ветки устанавливается в каталог <span class="strong"><strong>/usr/share/doc/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> под именем <span class="strong"><strong>changelog.gz</strong></span>.</p>
        <p>The upstream changelog is automatically found by the <span class="strong"><strong>dh_installchangelogs</strong></span> using the case insensitive match of its file name to <span class="strong"><strong>changelog</strong></span>, <span class="strong"><strong>changes</strong></span>, <span class="strong"><strong>changelog.txt</strong></span>, <span class="strong"><strong>changes.txt</strong></span>, <span class="strong"><strong>history</strong></span>, <span class="strong"><strong>history.txt</strong></span>, or <span class="strong"><strong>changelog.md</strong></span> and searched in the <span class="strong"><strong>./</strong></span> <span class="strong"><strong>doc/</strong></span> or <span class="strong"><strong>docs/</strong></span> directories.</p>
        <p>After finishing your packaging and verifying its quality, please execute the “<span class="strong"><strong>dch -r</strong></span>” command and save the finalized <span class="strong"><strong>debian/changelog</strong></span> file with the distribution normally set to <span class="strong"><strong>unstable</strong></span>. <a href="#ftn.idm2475" class="footnote" id="idm2475"><sup class="footnote">[14]</sup></a>  If you are packaging for backports, security updates, LTS, etc., please use the appropriate distribution names instead.</p>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="copyright"/>5.7. debian/copyright</h2>
            </div>
          </div>
        </div>
        <p>Debian takes the copyright and license matters very seriously. The “Debian Policy Manual” enforces having a summary of them in the <span class="strong"><strong>debian/copyright</strong></span> file in the package.</p>
        <p>You should format it as a <a class="ulink" href="https://www.debian.org/doc/packaging-manuals/copyright-format/1.0/">machine-readable debian/copyright file</a> (DEP-5).</p>
        <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Caution">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Внимание]" src="images/caution.png"/>
              </td>
              <th align="left">Внимание</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Файл <span class="strong"><strong>debian/copyright</strong></span> должен быть отсортирован таким образом, что наиболее общие шаблоны файлов были размещены в начале списка. См. <a class="xref" href="ch06.ru.html#koption" title="6.4. debmake -k">Раздел 6.4, «debmake -k»</a>.</p>
              </td>
            </tr>
          </table>
        </div>
        <p>Команда <span class="strong"><strong>debmake</strong></span> создаёт изначальный совместимый с DEP-5 шаблонный файл, сканируя все дерево исходного кода. Она использует специальную внутреннюю команду для проверки и классификации лицензий. <a href="#ftn.idm2491" class="footnote" id="idm2491"><sup class="footnote">[15]</sup></a></p>
        <p>Если команде <span class="strong"><strong>debmake</strong></span> не была передана опция <span class="strong"><strong>-P</strong></span>, то команда пропускает создаваемые автоматически файлы под разрешительными лицензиями.</p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Примечание]" src="images/note.png"/>
              </td>
              <th align="left">Примечание</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Если при проверке лицензионной информации вы обнаружите какие-либо проблемы, то отправьте сообщение об ошибке в пакете <span class="strong"><strong>debmake</strong></span> с проблемной частью текста, содержащего информацию об авторском праве и лицензии.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Примечание]" src="images/note.png"/>
              </td>
              <th align="left">Примечание</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>The <span class="strong"><strong>debmake</strong></span> command focuses on bunching up same copyright and license claims in detail to create template for <span class="strong"><strong>debian/copyright</strong></span>.  In order to do this within reasonable time, it only picks the first section which looks like copyright and license claims.  So its license assignment may not be optimal.  Please also use other tools such as <span class="strong"><strong>licensecheck</strong></span>.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>You are highly encouraged to check the license status with the <span class="strong"><strong>licensecheck</strong></span>(1) command and, as needed, with your manual code review.</p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="patches"/>5.8. debian/patches/*</h2>
            </div>
          </div>
        </div>
        <p>Заплаты <span class="strong"><strong>-p1</strong></span> в каталоге <span class="strong"><strong>debian/patches/</strong></span> применяются в последовательности, определяемой в файле <span class="strong"><strong>debian/patches/series</strong></span>, к дереву исходного кода основной ветки до запуска процесса <span class="strong"><strong>сборки</strong></span>.</p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Примечание]" src="images/note.png"/>
              </td>
              <th align="left">Примечание</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>В родных пакетах Debian (см. <a class="xref" href="ch05.ru.html#native" title="5.3. Родной пакет Debian">Раздел 5.3, «Родной пакет Debian»</a>) эти файлы не используются.</p>
              </td>
            </tr>
          </table>
        </div>
        <p>Имеется несколько способов подготовки серии заплат <span class="strong"><strong>-p1</strong></span>.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p class="simpara">Команда <span class="strong"><strong>diff</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">См. <a class="xref" href="ch04.ru.html#diff-u" title="4.8.1. Создание заплаты с помощью diff -u">Раздел 4.8.1, «Создание заплаты с помощью diff -u»</a></li>
                  <li class="listitem">
                    <p class="simpara">Примитивный, но универсальный метод</p>
                    <div class="itemizedlist">
                      <ul class="itemizedlist">
                        <li class="listitem">Заплаты могут поступать из других дистрибутивов, из сообщений в списках рассылки или выборки заплат из <span class="strong"><strong>git</strong></span>-репозитория основной ветки разработки с помощью команды «<span class="strong"><strong>git format-patches</strong></span>»</li>
                      </ul>
                    </div>
                  </li>
                  <li class="listitem">Отсутствие каталога <span class="strong"><strong>.pc/</strong></span></li>
                  <li class="listitem">Неизменённое дерево исходного кода основной ветки</li>
                  <li class="listitem">Обновите файл <span class="strong"><strong>debian/patches/series</strong></span> вручную</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">Команда <span class="strong"><strong>dquilt</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">См. <a class="xref" href="ch03.ru.html#quilt-setup" title="3.4. quilt">Раздел 3.4, «quilt»</a></li>
                  <li class="listitem">Простой и удобный метод</li>
                  <li class="listitem">Правильное создание данных в каталоге <span class="strong"><strong>.pc/</strong></span></li>
                  <li class="listitem">Изменённое дерево исходного кода основной ветки</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">Команда «<span class="strong"><strong>dpkg-source --commit</strong></span>»</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">См. <a class="xref" href="ch04.ru.html#dpkg-source-commit" title="4.8.3. Создание заплаты с помощью dpkg-source --commit">Раздел 4.8.3, «Создание заплаты с помощью dpkg-source --commit»</a></li>
                  <li class="listitem">Более новый и простой метод</li>
                  <li class="listitem">Правильное создание данных в каталоге <span class="strong"><strong>.pc/</strong></span></li>
                  <li class="listitem">Изменённое дерево исходного кода основной ветки</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">Автоматическое создание заплат с помощью <span class="strong"><strong>dpkg-buildpackage</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">См. <a class="xref" href="ch05.ru.html#alt-vcs" title="5.14. Запись в систему управления версиями (альтернатива)">Раздел 5.14, «Запись в систему управления версиями (альтернатива)»</a></li>
                  <li class="listitem">Добавьте <span class="strong"><strong>single-debian-patch</strong></span> в файл <span class="strong"><strong>debian/source/local-options</strong></span></li>
                  <li class="listitem">Настройте файл <span class="strong"><strong>debian/source/local-patch-header</strong></span></li>
                  <li class="listitem">Отсутствие каталога <span class="strong"><strong>.pc/</strong></span></li>
                  <li class="listitem">Изменённое дерево исходного кода основной ветки в Debian-ветке (<span class="strong"><strong>master</strong></span>)</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">Команда <span class="strong"><strong>gbp-pq</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Простая работа в стиле <span class="strong"><strong>git</strong></span> с помощью пакета <span class="strong"><strong>git-buildpackage</strong></span></li>
                  <li class="listitem">Отсутствие каталога <span class="strong"><strong>.pc/</strong></span></li>
                  <li class="listitem">
Modified upstream source tree in the throw-away branch (<span class="strong"><strong>patch-queue/master</strong></span>)
</li>
                  <li class="listitem">Неизменённый исходный код основной ветки в Debian-ветке (<span class="strong"><strong>master</strong></span>)</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">Команда <span class="strong"><strong>gbp-dpm</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Более продуманный подход в стиле <span class="strong"><strong>git</strong></span> с помощью пакета <span class="strong"><strong>git-dpm</strong></span></li>
                  <li class="listitem">Отсутствие каталога <span class="strong"><strong>.pc/</strong></span></li>
                  <li class="listitem">Изменённый исходный код основной ветки в ветке patched (<span class="strong"><strong>patched/</strong></span><span class="emphasis"><em>чтоугодно</em></span>)</li>
                  <li class="listitem">Неизменённый исходный код основной ветки в Debian-ветке (<span class="strong"><strong>master/</strong></span><span class="emphasis"><em>чтоугодно</em></span>)</li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <p>Wherever these patches come from, it is a good idea to tag them with a <a class="ulink" href="http://dep.debian.net/deps/dep3/">DEP-3</a> compatible header.</p>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>The <span class="strong"><strong>dgit</strong></span> package offers an alternative git integration tool with the Debian package archive.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="dpkg-source-x"/>5.8.1. dpkg-source -x</h3>
              </div>
            </div>
          </div>
          <p>Команда «<span class="strong"><strong>dpkg-source -x</strong></span>» распаковывает пакет Debian с исходным кодом.</p>
          <p>Обычно она же применяет заплаты из каталога <span class="strong"><strong>debian/patches/</strong></span> к дереву исходного кода и записывает состояние заплат в каталог <span class="strong"><strong>.pc/</strong></span>.</p>
          <p>Если вы хотите сохранить исходный код в неизменном состоянии (например, для использования в <a class="xref" href="ch05.ru.html#vcs" title="5.13. Запись в систему управления версиями (стандарт)">Раздел 5.13, «Запись в систему управления версиями (стандарт)»</a>), то используйте опцию <span class="strong"><strong>--skip-patches</strong></span>.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="quilt-dpkg"/>5.8.2. dquilt и dpkg-source</h3>
              </div>
            </div>
          </div>
          <p>До появления опции <span class="strong"><strong>--commit</strong></span> у команды <span class="strong"><strong>dpkg-source</strong></span> в версии 1.16.1 для работы с заплатами <span class="strong"><strong>-p1</strong></span> из каталога <span class="strong"><strong>debian/patches/</strong></span> требовалась команда <span class="strong"><strong>quilt</strong></span> (или её обёртка <span class="strong"><strong>dquilt</strong></span>).</p>
          <p>The patches should apply cleanly when using the <span class="strong"><strong>dpkg-source</strong></span> command.  Thus you can’t just copy the patches to the new packaging of the new upstream release if there are patch offsets, etc.</p>
          <p>The <span class="strong"><strong>dquilt</strong></span> command (see <a class="xref" href="ch03.ru.html#quilt-setup" title="3.4. quilt">Раздел 3.4, «quilt»</a>) is more forgiving.  You can normalize the patches by the <span class="strong"><strong>dquilt</strong></span> command.</p>
          <pre class="screen"> $ while dquilt push; do dquilt refresh ; done
 $ dquilt pop -a</pre>
          <p>There is one advantage of using the <span class="strong"><strong>dpkg-source</strong></span> command over the <span class="strong"><strong>dquilt</strong></span> command.  While the <span class="strong"><strong>dquilt</strong></span> command cannot handle modified binary files automatically, the <span class="strong"><strong>dpkg-source</strong></span> command detects modified binary files and lists them in the <span class="strong"><strong>debian/source/include-binaries</strong></span> file to include them in the Debian tarball.</p>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="signing-key"/>5.9. debian/upstream/signing-key.asc</h2>
            </div>
          </div>
        </div>
        <p>Some packages are signed by a GPG key.</p>
        <p>Например, пакет <a class="ulink" href="https://www.gnu.org/software/hello/">GNU hello</a> можно загрузить через HTTP по адресу <a class="ulink" href="https://ftp.gnu.org/gnu/hello/">https://ftp.gnu.org/gnu/hello/</a>. Там содержится несколько файлов:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem"><span class="strong"><strong>hello-</strong></span><span class="emphasis"><em>версия</em></span><span class="strong"><strong>.tar.gz</strong></span> (исходный код основной ветки)</li>
            <li class="listitem"><span class="strong"><strong>hello-</strong></span><span class="emphasis"><em>версия</em></span><span class="strong"><strong>.tar.gz.sig</strong></span> (отделённая подпись)</li>
          </ul>
        </div>
        <p>Выберем самую последнюю версию.</p>
        <pre class="screen">$ wget https://ftp.gnu.org/gnu/hello/hello-2.9.tar.gz
 ...
$ wget https://ftp.gnu.org/gnu/hello/hello-2.9.tar.gz.sig
 ...
$ gpg --verify hello-2.9.tar.gz.sig
gpg: Signature made Thu 10 Oct 2013 08:49:23 AM JST using DSA key ID 80EE4A00
gpg: Can't check signature: public key not found</pre>
        <p>If you know the public GPG key of the upstream maintainer from the mailing list, use it as the <span class="strong"><strong>debian/upstream/signing-key.asc</strong></span> file.  Otherwise, use the hkp keyserver and check it via your <a class="ulink" href="https://en.wikipedia.org/wiki/Web_of_trust">web of trust</a>.</p>
        <pre class="screen">$ gpg --keyserver hkp://keys.gnupg.net --recv-key 80EE4A00
gpg: requesting key 80EE4A00 from hkp server keys.gnupg.net
gpg: key 80EE4A00: public key "Reuben Thomas &lt;rrt@sc3d.org&gt;" imported
gpg: no ultimately trusted keys found
gpg: Total number processed: 1
gpg:               imported: 1
$ gpg --verify hello-2.9.tar.gz.sig
gpg: Signature made Thu 10 Oct 2013 08:49:23 AM JST using DSA key ID 80EE4A00
gpg: Good signature from "Reuben Thomas &lt;rrt@sc3d.org&gt;"
  ...
Primary key fingerprint: 9297 8852 A62F A5E2 85B2  A174 6808 9F73 80EE 4A00</pre>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Если ваше сетевое окружение блокирует доступ к HKP-порту <span class="strong"><strong>11371</strong></span>, используйте «<span class="strong"><strong>hkp://keyserver.ubuntu.com:80</strong></span>».</p>
              </td>
            </tr>
          </table>
        </div>
        <p>After confirming the key ID <span class="strong"><strong>80EE4A00</strong></span> is a trustworthy one, download its public key into the <span class="strong"><strong>debian/upstream/signing-key.asc</strong></span> file.</p>
        <pre class="screen">$ gpg --armor --export 80EE4A00 &gt;debian/upstream/signing-key.asc</pre>
        <p>Затем настройте файл <span class="strong"><strong>debian/watch</strong></span> соответствующим образом.</p>
        <pre class="screen">version=4
pgpsigurlmangle=s/$/.sig/  https://ftp.gnu.org/gnu/hello/ hello-(\d[\d.]*)\.tar\.(?:gz|bz2|xz)</pre>
        <p>Теперь команда <span class="strong"><strong>uscan</strong></span> будет выполнять проверку подлинности пакета с помощью его GPG-подписи.</p>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="dfsg"/>5.10. debian/watch и критерии Debian по определению свободного ПО (DFSG)</h2>
            </div>
          </div>
        </div>
        <p>Debian очень серьёзно относится к вопросу свободы ПО и руководствуется в этом <a class="ulink" href="https://www.debian.org/social_contract.html#guidelines">DFSG</a>.</p>
        <p>Несоответствующие <a class="ulink" href="https://www.debian.org/social_contract.html#guidelines">DFSG</a> компоненты в tar-архиве исходного кода основной ветки можно легко удалить в том случае, когда для обновления пакета Debian используется команда <span class="strong"><strong>uscan</strong></span>.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">Укажите список файлов для удаления в строке <span class="strong"><strong>Files-Excluded</strong></span> файла <span class="strong"><strong>debian/copyright</strong></span>.</li>
            <li class="listitem">Укажите URL для загрузки tar-архива основной ветки в файле <span class="strong"><strong>debian/watch</strong></span>.</li>
            <li class="listitem">
              <p class="simpara">Запустите команду <span class="strong"><strong>uscan</strong></span> для загрузки нового tar-архива основной ветки.</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Либо используйте команду «<span class="strong"><strong>gbp import-orig --uscan --pristine-tar</strong></span>».</li>
                </ul>
              </div>
            </li>
            <li class="listitem">Получившийся tar-архив будет иметь версию с дополнительным суффиком <span class="strong"><strong>+dfsg</strong></span>.</li>
          </ul>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="debianconf"/>5.11. Other debian/* Files</h2>
            </div>
          </div>
        </div>
        <p>В каталог <span class="strong"><strong>debian/</strong></span> можно добавить дополнительные файлы настройки. Большинство из них используются для управления командами <span class="strong"><strong>dh_</strong></span>*, предоставляемыми пакетом <span class="strong"><strong>debhelper</strong></span>, но также имеются дополнительные файлы для команд <span class="strong"><strong>dpkg-source</strong></span>, <span class="strong"><strong>lintian</strong></span> и <span class="strong"><strong>gbp</strong></span>.</p>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Наиболее свежий список доступных команд <span class="strong"><strong>dh_</strong></span>* см. в <span class="strong"><strong>debhelper</strong></span>(7).</p>
              </td>
            </tr>
          </table>
        </div>
        <p>Файлы <span class="strong"><strong>debian/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.</strong></span>* предоставляют очень мощные средства для выбора путей установки файлов. С помощью этих файлов можно создать пакет даже из исходный кода основной ветки, неиспользующего какую-либо систему сборки. Пример см. в <a class="xref" href="ch08.ru.html#nomakefile" title="8.2. Без Makefile (командная оболочка, интерфейс командной оболочки)">Раздел 8.2, «Без Makefile (командная оболочка, интерфейс командной оболочки)»</a>.</p>
        <p>The "<sup><span class="strong"><strong>-x[1234]</strong></span></sup>" superscript notation that appears in the following list indicates the minimum value for the <span class="strong"><strong>debmake</strong></span> <span class="strong"><strong>-x</strong></span> option that will generate the associated template file.  See <a class="xref" href="ch06.ru.html#xoption" title="6.6. debmake -x">Раздел 6.6, «debmake -x»</a> or <span class="strong"><strong>debmake</strong></span>(1) for details.</p>
        <p>Ниже приводится отсортирванный по алфавиту список наиболее существенных файлов настройки.</p>
        <div class="variablelist">
          <dl class="variablelist">
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.bug-control</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>устанавливается как <span class="strong"><strong>usr/share/bug/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/control</strong></span> в <span class="emphasis"><em>двоичныйпакет</em></span>. См. <a class="xref" href="ch05.ru.html#bug" title="5.24. Bug reports">Раздел 5.24, «Bug reports»</a>.</dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.bug-presubj</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>устанавливается как <span class="strong"><strong>usr/share/bug/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/presubj</strong></span> в <span class="emphasis"><em>binarypackage</em></span>. См. <a class="xref" href="ch05.ru.html#bug" title="5.24. Bug reports">Раздел 5.24, «Bug reports»</a>.</dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.bug-script</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>устанавливается как <span class="strong"><strong>usr/share/bug/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> или <span class="strong"><strong>usr/share/bug/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/script</strong></span> в <span class="emphasis"><em>двоичныйпакет</em></span>. См. <a class="xref" href="ch05.ru.html#bug" title="5.24. Bug reports">Раздел 5.24, «Bug reports»</a>.</dd>
            <dt>
              <span class="term">
                <span class="emphasis">
                  <em>двоичныйпакет</em>
                </span>
                <span class="strong">
                  <strong>.bash-completion</strong>
                </span>
              </span>
            </dt>
            <dd>
              <p class="simpara">Список устанавливаемых автодополнений <code class="literal">bash</code>.</p>
              <p class="simpara">The <code class="literal">bash-completion</code> package is required for both build and user environments.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_bash-completion</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>clean</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">
List files that should be removed but are not cleaned by the <span class="strong"><strong>dh_auto_clean</strong></span> command.
</p>
              <p class="simpara">См. <span class="strong"><strong>dh_auto_clean</strong></span>(1) и <span class="strong"><strong>dh_clean</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>compat</strong></span> <sup><span class="strong"><strong>-x1</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливает уровень совместимости <span class="strong"><strong>debhelper</strong></span> (в настоящее время «<span class="strong"><strong>9</strong></span>»).</p>
              <p class="simpara">См. «COMPATIBILITY LEVELS» в <span class="strong"><strong>debhelper</strong></span>(8).</p>
            </dd>
            <dt>
              <span class="term">
                <span class="emphasis">
                  <em>двоичныйпакет</em>
                </span>
                <span class="strong">
                  <strong>.conffile</strong>
                </span>
              </span>
            </dt>
            <dd>
              <p class="simpara">При использовании «compat &gt;= 3» этот файл не нужен, так как все файлы в каталоге <span class="strong"><strong>etc/</strong></span> являются файлами настройки (conffile).</p>
              <p class="simpara">If the program you’re packaging requires every user to modify the configuration files in the <span class="strong"><strong>/etc</strong></span> directory, there are two popular ways to arrange for them not to be conffiles, keeping the <span class="strong"><strong>dpkg</strong></span> command happy and quiet.</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Создайте символьную ссылку в каталоге <span class="strong"><strong>/etc</strong></span>, указывающую на файл в каталоге <span class="strong"><strong>/var</strong></span>, создаваемый сценариями сопровождающего.</li>
                  <li class="listitem">Создайте файл с помощью сценариев сопровождающего в каталоге <span class="strong"><strong>/etc</strong></span>.</li>
                </ul>
              </div>
              <p class="simpara">См. <span class="strong"><strong>dh_installdeb</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term">
                <span class="emphasis">
                  <em>двоичныйпакет</em>
                </span>
                <span class="strong">
                  <strong>.config</strong>
                </span>
              </span>
            </dt>
            <dd>Это <span class="strong"><strong>config</strong></span>-сценарий <span class="strong"><strong>debconf</strong></span>, используемый для того, чтобы задавать пользователю любые необходимые для настройки пакета вопросы. См. <a class="xref" href="ch05.ru.html#debconf" title="5.19. debconf">Раздел 5.19, «debconf»</a>.</dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.cron.hourly</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в файл <span class="strong"><strong>etc/cron/hourly/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installcron</strong></span>(1) и <span class="strong"><strong>cron</strong></span>(8).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.cron.daily</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в файл <span class="strong"><strong>etc/cron/daily/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installcron</strong></span>(1) и <span class="strong"><strong>cron</strong></span>(8).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.cron.weekly</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в файл <span class="strong"><strong>etc/cron/weekly/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installcron</strong></span>(1) и <span class="strong"><strong>cron</strong></span>(8).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.cron.monthly</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в файл <span class="strong"><strong>etc/cron/monthly/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installcron</strong></span>(1) и <span class="strong"><strong>cron</strong></span>(8).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.cron.d</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в файл <span class="strong"><strong>etc/cron.d/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installcron</strong></span>(1), <span class="strong"><strong>cron</strong></span>(8) и <span class="strong"><strong>crontab</strong></span>(5).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.default</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Если такой файл существует, то он устанавливается в <span class="strong"><strong>etc/default/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installinit</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.dirs</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Содержит список каталогов, которые должны быть созданы в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installdirs</strong></span>(1).</p>
              <p class="simpara">Это это не требуется, поскольку все команды <span class="strong"><strong>dh_install</strong></span>* автоматически создают необходимые каталоги. Используйте этот файл только в том случае, если у вас возникают какие-либо затруднения.</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичыйпакет</em></span><span class="strong"><strong>.doc-base</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается как управляющий файл <span class="strong"><strong>doc-base</strong></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installdocs</strong></span>(1) и <a class="ulink" href="file:///usr/share/doc/doc-base/doc-base.html/index.html">Руководство Debian по doc-base</a>, предоставляемое пакетом <span class="strong"><strong>doc-base</strong></span>.</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.docs</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Создержит список файлов документации для их установки в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installdocs</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.emacsen-compat</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в <span class="strong"><strong>usr/lib/emacsen-common/packages/compat/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>binarypackage</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installemacsen</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.emacsen-install</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в <span class="strong"><strong>usr/lib/emacsen-common/packages/install/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installemacsen</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.emacsen-remove</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в <span class="strong"><strong>usr/lib/emacsen-common/packages/remove/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installemacsen</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.emacsen-startup</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в <span class="strong"><strong>usr/lib/emacsen-common/packages/startup/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installemacsen</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.examples</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Содержит список файлов или каталогов с примерами для их установки в <span class="strong"><strong>usr/share/doc/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/examples/</strong></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installexamples</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term">
                <span class="strong">
                  <strong>gbp.conf</strong>
                </span>
              </span>
            </dt>
            <dd>
              <p class="simpara">Если этот файл существует, то он используется как файл настройки для команды <span class="strong"><strong>gbp</strong></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>gbp.conf</strong></span>(5), <span class="strong"><strong>gbp</strong></span>(1) и <span class="strong"><strong>git-buildpackage</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.info</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Содержит список info-файлов для их установки в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installinfo</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.init</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в <span class="strong"><strong>etc/init.d/</strong></span><span class="emphasis"><em>двоичныйнакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installinit</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.install</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Содержит список файлов, которые должны быть установлены, но не устанавливаются командой <span class="strong"><strong>dh_auto_install</strong></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_install</strong></span>(1) и <span class="strong"><strong>dh_auto_install</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>license-examples/</strong></span>* <sup><span class="strong"><strong>-x4</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">
These are copyright file examples generated by the <span class="strong"><strong>debmake</strong></span> command.  Use these as the reference for making the <span class="strong"><strong>copyright</strong></span> file.
</p>
              <p class="simpara">Обязательно удалите эти файлы.</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.links</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">
List pairs of source and destination files to be symlinked. Each pair should be put on its own line, with the source and destination separated by whitespace.
</p>
              <p class="simpara">См. <span class="strong"><strong>dh_link</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.lintian-overrides</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в <span class="strong"><strong>usr/share/lintian/overrides/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в каталоге сборки пакета. Этот файл используется для блокировки ошибочных диагностических процедур <span class="strong"><strong>lintian</strong></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_lintian</strong></span>(1), <span class="strong"><strong>lintian</strong></span>(1) и <a class="ulink" href="https://lintian.debian.org/manual/index.html">Руководство пользователя Lintian</a>.</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>manpage.</strong></span>* <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Команда <span class="strong"><strong>debmake</strong></span> создаёт шаблонные файы страниц руководства. Переименуйте эти файлы соответствующим образом и обновите их содержимое.</p>
              <p class="simpara">Политика Debian требует, чтобы у каждой программы, утилиты и функции была связанная с ними страница руководства, входящая в состав того же пакета. Страницы руководства пишутся в формате <span class="strong"><strong>nroff</strong></span>(1).</p>
              <p class="simpara">If you are new to making a manpage, use <span class="strong"><strong>manpage.asciidoc</strong></span> or <span class="strong"><strong>manpage.1</strong></span> as the starting point.</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.manpages</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Содержит список страниц руководства для их установки.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installman</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.menu</strong></span> (устарел, более не устанавливается)</span>
            </dt>
            <dd>
              <p class="simpara"><a class="ulink" href="https://bugs.debian.org/741573">Технический комитет в #741573</a> решил «В Debian следует соответствующим образом использовать файлы <span class="strong"><strong>.desktop</strong></span>".</p>
              <p class="simpara">Файл меню Debian устанавливается в <span class="strong"><strong>usr/share/menu/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">Информацию о формате см. в <span class="strong"><strong>menufile</strong></span>(5). См. <span class="strong"><strong>dh_installmenu</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term">
                <span class="strong">
                  <strong>NEWS</strong>
                </span>
              </span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в <span class="strong"><strong>usr/share/doc/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/NEWS.Debian</strong></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installchangelogs</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>patches/</strong></span>*</span>
            </dt>
            <dd>
              <p class="simpara">Набор файлов заплат <span class="strong"><strong>-p1</strong></span>, которые применяются к исходному коде основной ветки до запуска процесса сборки исходного кода.</p>
              <p class="simpara">См. <span class="strong"><strong>dpkg-source</strong></span>(1), <a class="xref" href="ch03.ru.html#quilt-setup" title="3.4. quilt">Раздел 3.4, «quilt»</a> и <a class="xref" href="ch04.ru.html#alt-patch" title="4.8. Шаг 3 (альтернативный): изменение исходного кода основной ветки разработки">Раздел 4.8, «Шаг 3 (альтернативный): изменение исходного кода основной ветки разработки»</a>.</p>
              <p class="simpara">Команда <span class="strong"><strong>debmake</strong></span> не создаёт файлы заплат.</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>patches/series</strong></span> <sup><span class="strong"><strong>-x1</strong></span></sup></span>
            </dt>
            <dd>Последовательность применения файлов заплат <span class="strong"><strong>patches/</strong></span>*.</dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.preinst</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup>, </span>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.postinst</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup>, </span>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.prerm</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup>, </span>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.postrm</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Указанные сценарии сопровождаюшего устанавливаются в каталог <span class="strong"><strong>DEBIAN</strong></span>.</p>
              <p class="simpara">В самих этих сценариях токен <span class="strong"><strong>#DEBHELPER#</strong></span> заменяется на фрагменты кода, создаваемые другими командами <span class="strong"><strong>debhelper</strong></span>.</p>
              <p class="simpara">See <span class="strong"><strong>dh_installdeb</strong></span>(1) and <a class="ulink" href="https://www.debian.org/doc/debian-policy/#document-ch-maintainerscripts">Chapter 6 - Package maintainer scripts and installation procedure</a> in the “Debian Policy Manual”.</p>
              <p class="simpara">See also <span class="strong"><strong>debconf-devel</strong></span>(7) and <a class="ulink" href="https://www.debian.org/doc/debian-policy/#prompting-in-maintainer-scripts">3.9.1 Prompting in maintainer scripts</a> in the “Debian Policy Manual”.</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>README.Debian</strong></span> <sup><span class="strong"><strong>-x1</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в первый двоичный пакет, указанный в файле <span class="strong"><strong>debian/control</strong></span> как <span class="strong"><strong>usr/share/doc/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/README.Debian</strong></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installdocs</strong></span>(1).</p>
              <p class="simpara">Этот файл содержит специальную информацию о пакете Debian.</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.service</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Если этот файл существует, то он устанавливается в <span class="strong"><strong>lib/systemd/system/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.service</strong></span> в <span class="emphasis"><em>binarypackage</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_systemd_enable</strong></span>(1), <span class="strong"><strong>dh_systemd_start</strong></span>(1) и <span class="strong"><strong>dh_installinit</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>source/format</strong></span> <sup><span class="strong"><strong>-x1</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Формат пакета Debian.</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Используйте «<span class="strong"><strong>3.0 (quilt)</strong></span>» для создания неродных пакетов (рекомендуется)</li>
                  <li class="listitem">Используйте «<span class="strong"><strong>3.0 (native)</strong></span>» для создания родного пакета</li>
                </ul>
              </div>
              <p class="simpara">См. «SOURCE PACKAGE FORMATS» в <span class="strong"><strong>dpkg-source</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>source/lintian-overrides</strong></span> или <span class="strong"><strong>source.lintian-overrides</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Эти файлы не устанавливаются, но загружаются командой <span class="strong"><strong>lintian</strong></span> и предоставляют отмены проверок для пакета с исходным кодом.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_lintian</strong></span>(1) и <span class="strong"><strong>lintian</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>source/local-options</strong></span> <sup><span class="strong"><strong>-x1</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">The <span class="strong"><strong>dpkg-source</strong></span> command uses this content as its options.  Notable options are:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
                    <span class="strong">
                      <strong>unapply-patches</strong>
                    </span>
                  </li>
                  <li class="listitem">
                    <span class="strong">
                      <strong>abort-on-upstream-changes</strong>
                    </span>
                  </li>
                  <li class="listitem">
                    <span class="strong">
                      <strong>auto-commit</strong>
                    </span>
                  </li>
                  <li class="listitem">
                    <span class="strong">
                      <strong>single-debian-patch</strong>
                    </span>
                  </li>
                </ul>
              </div>
              <p class="simpara">Этот файл не добавляется в создаваемый пакет с исходным кодом и предназначен скорее для добавления в систему управления версиями, используемую сопровождающим.</p>
              <p class="simpara">См. «FILE FORMATS» в <span class="strong"><strong>dpkg-source</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term">
                <span class="strong">
                  <strong>source/local-patch-header</strong>
                </span>
              </span>
            </dt>
            <dd>
              <p class="simpara">Свободная текстовая форма, размещаемая в верхней части автоматически созданной заплаты.</p>
              <p class="simpara">Этот файл не добавляется в создаваемый пакет с исходным кодом и предназначен скорее для добавления в систему управления версиями, используемую сопровождающим.</p>
              <p class="simpara">+ См. «FILE FORMATS» в <span class="strong"><strong>dpkg-source</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.symbols</strong></span> <sup><span class="strong"><strong>-x2</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Файлы символов. Если эти файлы существуют, то они будут переданы для обработки и установки команде <span class="strong"><strong>dpkg-gensymbols</strong></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_makeshlibs</strong></span>(1) и <a class="xref" href="ch05.ru.html#symbols" title="5.18.1. Библиотека символов">Раздел 5.18.1, «Библиотека символов»</a>..</p>
            </dd>
            <dt>
              <span class="term">
                <span class="emphasis">
                  <em>двоичныйпакет</em>
                </span>
                <span class="strong">
                  <strong>.templates</strong>
                </span>
              </span>
            </dt>
            <dd>Это файл <span class="strong"><strong>шаблонов</strong></span> для <span class="strong"><strong>debconf</strong></span>. Он используется для вывода вопросов, необходимых для настройки пакета. См. <a class="xref" href="ch05.ru.html#debconf" title="5.19. debconf">Раздел 5.19, «debconf»</a>.</dd>
            <dt>
              <span class="term">
                <span class="strong">
                  <strong>tests/control</strong>
                </span>
              </span>
            </dt>
            <dd>
This is the RFC822-style test meta data file defined in <a class="ulink" href="http://dep.debian.net/deps/dep8/">DEP-8</a>.  See <span class="strong"><strong>autopkgtest</strong></span>(1) and <a class="xref" href="ch05.ru.html#ci" title="5.22. Непрерывная интеграция">Раздел 5.22, «Непрерывная интеграция»</a>.
</dd>
            <dt>
              <span class="term">
                <span class="strong">
                  <strong>TODO</strong>
                </span>
              </span>
            </dt>
            <dd>
              <p class="simpara">Устанавливается в первый двоичный пакет, указанный в файле <span class="strong"><strong>debian/control</strong></span> как <span class="strong"><strong>usr/share/doc/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/TODO.Debian</strong></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installdocs</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.tmpfile</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Если этот файл существует, то он устанавливается в <span class="strong"><strong>usr/lib/tmpfiles.d/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.conf</strong></span> в <span class="emphasis"><em>двоичныйпакет</em></span>.</p>
              <p class="simpara">См. <span class="strong"><strong>dh_systemd_enable</strong></span>(1), <span class="strong"><strong>dh_systemd_start</strong></span>(1) и <span class="strong"><strong>dh_installinit</strong></span>(1).</p>
            </dd>
            <dt>
              <span class="term"><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.upstart</strong></span> <sup><span class="strong"><strong>-x3</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">Если этот файл существует, то он устанавливается в etc/init/package.conf в каталог сборки пакета. (устарел)</p>
              <p class="simpara">См. <span class="strong"><strong>dh_installinit</strong></span>(1) и <a class="xref" href="ch08.ru.html#emptypkg" title="8.1. Выборочное применение шаблонов">Раздел 8.1, «Выборочное применение шаблонов»</a>.</p>
            </dd>
            <dt>
              <span class="term"><span class="strong"><strong>watch</strong></span> <sup><span class="strong"><strong>-x1</strong></span></sup></span>
            </dt>
            <dd>
              <p class="simpara">
The control file for the <span class="strong"><strong>uscan</strong></span> command to download the latest upstream version.
</p>
              <p class="simpara">Этот управляющий файл можно настроить так, чтобы выполнялась проверка подлинности tar-архива с помощью его GPG-подписи (см. <a class="xref" href="ch05.ru.html#signing-key" title="5.9. debian/upstream/signing-key.asc">Раздел 5.9, «debian/upstream/signing-key.asc»</a>).</p>
              <p class="simpara">См. <a class="xref" href="ch05.ru.html#dfsg" title="5.10. debian/watch и критерии Debian по определению свободного ПО (DFSG)">Раздел 5.10, «debian/watch и критерии Debian по определению свободного ПО (DFSG)»</a> и <span class="strong"><strong>uscan</strong></span>(1).</p>
            </dd>
          </dl>
        </div>
        <p>Here are a few reminders for the above list.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
For a single binary package, the <span class="emphasis"><em>binarypackage</em></span><span class="strong"><strong>.</strong></span> part of the filename in the list may be removed.
</li>
            <li class="listitem">
For a multi binary package, a configuration file missing the <span class="emphasis"><em>binarypackage</em></span><span class="strong"><strong>.</strong></span> part of the filename is applied to the first binary package listed in the <span class="strong"><strong>debian/control</strong></span>.
</li>
            <li class="listitem">Если создаётся много двоичных пакетов, то их настройки можно указать отдельно, добавив их имя к их файлам настройки, например, таким как <span class="emphasis"><em>пакет-1</em></span><span class="strong"><strong>.install</strong></span>, <span class="emphasis"><em>пакет-2</em></span><span class="strong"><strong>.install</strong></span> и т. д.</li>
            <li class="listitem">Некоторые шаблонные файлы настроек могут не быть созданы командой <span class="strong"><strong>debmake</strong></span>. В таких случаях вам следует создать их с помощью редактора.</li>
            <li class="listitem">
Unusual configuration template files generated by the <span class="strong"><strong>debmake</strong></span> command with an extra <span class="strong"><strong>.ex</strong></span> suffix need to be activated by removing that suffix.
</li>
            <li class="listitem">Неиспользуемые шаблонные файлы настроек, созданные командой <span class="strong"><strong>debmake</strong></span>, следует удалить.</li>
            <li class="listitem">Копируйте шаблонные файлы настроек по необходимости в файлы с соответствующими именами двоичных пакетов.</li>
          </ul>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="custom"/>5.12. Настройка пакета Debian</h2>
            </div>
          </div>
        </div>
        <p>Кратко резюмируем настройку пакета Debian.</p>
        <p>All customization data for the Debian package resides in the <span class="strong"><strong>debian/</strong></span> directory.  A simple example is given in <a class="xref" href="ch04.ru.html#step-maintainer" title="4.6. Шаг 3: изменение шаблонных файлов">Раздел 4.6, «Шаг 3: изменение шаблонных файлов»</a>.  Normally, this customization involves a combination of the following:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">Систему сборки пакета Debian можно настроить с помощью файла <span class="strong"><strong>debian/rules</strong></span> file (см. <a class="xref" href="ch05.ru.html#customrules" title="5.4.3. Настроенный файл debian/rules">Раздел 5.4.3, «Настроенный файл debian/rules»</a>).</li>
            <li class="listitem">
The Debian package installation path etc. can be customized through the addition of configuration files such as <span class="emphasis"><em>package</em></span><span class="strong"><strong>.install</strong></span> and <span class="emphasis"><em>package</em></span><span class="strong"><strong>.docs</strong></span> in the <span class="strong"><strong>debian/</strong></span> directory for the <span class="strong"><strong>dh_</strong></span>* commands from the <span class="strong"><strong>debhelper</strong></span> package (see <a class="xref" href="ch05.ru.html#debianconf" title="5.11. Other debian/* Files">Раздел 5.11, «Other debian/* Files»</a>).
</li>
          </ul>
        </div>
        <p>When these are not sufficient to make a good Debian package, modifications to the upstream source recorded as the <span class="strong"><strong>-p1</strong></span> patches in the <span class="strong"><strong>debian/patches/</strong></span> directory is deployed.  These patches are applied in the sequence defined in the <span class="strong"><strong>debian/patches/series</strong></span> file before building the package (see <a class="xref" href="ch05.ru.html#patches" title="5.8. debian/patches/*">Раздел 5.8, «debian/patches/*»</a>).  Simple examples are given in <a class="xref" href="ch04.ru.html#alt-patch" title="4.8. Шаг 3 (альтернативный): изменение исходного кода основной ветки разработки">Раздел 4.8, «Шаг 3 (альтернативный): изменение исходного кода основной ветки разработки»</a>.</p>
        <p>You should address the root cause of the Debian packaging problem by the least invasive way.  The generated package shall be more robust for future upgrades in this way.</p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Примечание]" src="images/note.png"/>
              </td>
              <th align="left">Примечание</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Send the patch addressing the root cause to the upstream maintainer if it is useful to the upstream.</p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="vcs"/>5.13. Запись в систему управления версиями (стандарт)</h2>
            </div>
          </div>
        </div>
        <p>Typically, <a class="ulink" href="https://en.wikipedia.org/wiki/Git">Git</a> is used as the <a class="ulink" href="https://en.wikipedia.org/wiki/Version_control">VCS</a> to record the Debian packaging activity with the following branches.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p class="simpara">ветка <span class="strong"><strong>master</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Записывает дерево исходного кода, используемое для пакета Debian.</li>
                  <li class="listitem">Часть, относящаяся к дереву исходного кода основной ветки разработки, записывается в неизменённом виде.</li>
                  <li class="listitem">Изменения основной ветки, производимые в пакете Debian, записываются в каталог <span class="strong"><strong>debian/patches/</strong></span> в виде <span class="strong"><strong>-p1</strong></span> заплат.</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">ветка <span class="strong"><strong>upstream</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
Record the upstream source tree untarred from the released upstream tarball.
</li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>It’s a good idea to add to the <span class="strong"><strong>.gitignore</strong></span> file the listing <span class="strong"><strong>.pc</strong></span>.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Add <span class="strong"><strong>unapply-patches</strong></span> and <span class="strong"><strong>abort-on-upstream-changes</strong></span> lines to the <span class="strong"><strong>debian/source/local-options</strong></span> file to keep the upstream portion unmodified.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Кроме того, вы можете отслеживать данные системы управления версиями основной ветки в отличной от <span class="strong"><strong>upstream</strong></span> ветке, что облегчит выборочное использование заплат.</p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="alt-vcs"/>5.14. Запись в систему управления версиями (альтернатива)</h2>
            </div>
          </div>
        </div>
        <p>Можно не сохранять заплаты <span class="strong"><strong>-p1</strong></span> для всех изменений основной ветки, свою работу над пакетом Debian можно хранить в следующих ветках.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p class="simpara">ветка <span class="strong"><strong>master</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Записывает дерево исходного кода, используемое для пакета Debian.</li>
                  <li class="listitem">Исходный код основной ветки сохраняется вместе с изменениями, внесёнными в ходе подготовки пакета Debian.</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">ветка <span class="strong"><strong>upstream</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
Record the upstream source tree untarred from the released upstream tarball.
</li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <p>Adding a few extra files in the <span class="strong"><strong>debian/</strong></span> directory enables you to do this.</p>
        <pre class="screen"> $ tar -xvzf &lt;package-version&gt;.tar.gz
 $ ln -sf &lt;package_version&gt;.orig.tar.gz
 $ cd &lt;package-version&gt;/
 ... hack...hack...
 $ echo "single-debian-patch" &gt;&gt; debian/source/local-options
 $ cat &gt;debian/source/local-patch-header &lt;&lt;END
 This patch contains all the Debian-specific changes mixed
 together. To review them separately, please inspect the VCS
 history at https://git.debian.org/?=collab-maint/foo.git.</pre>
        <p>Let the <span class="strong"><strong>dpkg-source</strong></span> command invoked by the Debian package build process (<span class="strong"><strong>dpkg-buildpackage</strong></span>, <span class="strong"><strong>debuild</strong></span>, …) generate the <span class="strong"><strong>-p1</strong></span> patch file <span class="strong"><strong>debian/patches/debian-changes</strong></span> automatically.</p>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Этот подход может быть адаптирован для инструментов любых  систем управления версиями. Поскольку в этом подходе происходит слияние всех изменений в объединённую заплату, постольку желательно сохранять данные системы управления версиями в открытом для всех виде.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Файлы <span class="strong"><strong>debian/source/local-options</strong></span> и <span class="strong"><strong>debian/source/local-patch-header</strong></span> следует сохранять в системе управления версиями. Они не входят в пакет Debian с исходным кодом.</p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="build-noextra"/>5.15. Сборка пакета без постороннего содержимого</h2>
            </div>
          </div>
        </div>
        <p>There are a few cases which cause the inclusion of undesirable contents in the generated Debian source package.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">Дерево исходного кода основной ветки может быть размещено в системе управления версиями. При пересборке пакета из дерева исходного кода создаваемый пакет Debian с исходным кодом содержит постороннее содержимое, источником которого является система управления содержимым.</li>
            <li class="listitem">Дерево исходного кода основной ветки может содержать автоматически создаваемые файлы. При пересборке пакета из дерева исходного кода создаваемый пакет Debian с исходным кодом содержит постороннее содержимое, источником которого являются автоматически создаваемые файлы.</li>
          </ul>
        </div>
        <p>Обычно в <a class="xref" href="ch03.ru.html#devscripts-setup" title="3.5. devscripts">Раздел 3.5, «devscripts»</a> для команды <span class="strong"><strong>dpkg-source</strong></span> устанавливаются опции <span class="strong"><strong>-i</strong></span> и <span class="strong"><strong>-I</strong></span>, что позволяет этого избежать. Опция <span class="strong"><strong>-i</strong></span> предназначена для неродных пакетов, а опция <span class="strong"><strong>-I</strong></span> — для родных пакетов. См. <span class="strong"><strong>dpkg-source</strong></span>(1) и вывод команды «<span class="strong"><strong>dpkg-source --help</strong></span>».</p>
        <p>There are several methods to avoid inclusion of undesirable contents.</p>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="rules-clean"/>5.15.1. Исправление с помощью debian/rules clean</h3>
              </div>
            </div>
          </div>
          <p>Проблема постороннего содержимого может быть исправлена путём удаления таких файлов в цели «<span class="strong"><strong>debian/rules clean</strong></span>». Также это полезно и для файлов, создаваемых автоматически.</p>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Примечание]" src="images/note.png"/>
                </td>
                <th align="left">Примечание</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Цель «<span class="strong"><strong>debian/rules clean</strong></span>» вызывается командой <span class="strong"><strong>dpkg-buildpackage</strong></span> до выполнения команды «<span class="strong"><strong>dpkg-source --build</strong></span>», поэтому команда «<span class="strong"><strong>dpkg-source --build</strong></span>» игнорирует удалённые файлы.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="git-clean"/>5.15.2. Исправление с помощью систем управления версиями</h3>
              </div>
            </div>
          </div>
          <p>Проблема постороннего содержимого может быт исправлена путём восстановления дерева исходного кода путём внесения его в систему управления версиями до выполнения первой сборки.</p>
          <p>Вы можете восстановить дерево исходного кода до выполнения второй сборки. Например:</p>
          <pre class="screen"> $ git reset --hard
 $ git clean -dfx
 $ debuild</pre>
          <p>This works because the <span class="strong"><strong>dpkg-source</strong></span> command ignores the contents of the typical VCS files in the source tree with the <span class="strong"><strong>DEBUILD_DPKG_BUILDPACKAGE_OPTS</strong></span> setting in <a class="xref" href="ch03.ru.html#devscripts-setup" title="3.5. devscripts">Раздел 3.5, «devscripts»</a>.</p>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Подсказка]" src="images/tip.png"/>
                </td>
                <th align="left">Подсказка</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>If the source tree is not managed by a VCS, you should run “<span class="strong"><strong>git init; git add -A .; git commit</strong></span>” before the first build.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="extend-diff-ignore"/>5.15.3. Исправление с помощью extend-diff-ignore</h3>
              </div>
            </div>
          </div>
          <p>This is for a non-native package.</p>
          <p>Проблема посторонних изменений может быть исправлена путём игнорирования изменений, внесённых в часто дерева исходного кода, путём добавления в файл <span class="strong"><strong>debian/source/options</strong></span> строки «<span class="strong"><strong>extend-diff-ignore=…</strong></span>».</p>
          <p>Для того, чтобы исключить файлы <span class="strong"><strong>config.sub</strong></span>, <span class="strong"><strong>config.guess</strong></span> и <span class="strong"><strong>Makefile</strong></span>, добавьте следующее:</p>
          <pre class="screen"># Don't store changes on autogenerated files
extend-diff-ignore = "(^|/)(config\.sub|config\.guess|Makefile)$"</pre>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Примечание]" src="images/note.png"/>
                </td>
                <th align="left">Примечание</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Этот подход работает всегда, даже если вы не можете удалить файл. Поэтому он позволяет вам не делать резервную копию неизменённого файла только для того, чтобы восстановить его для выполнения следующей сборки.</p>
                </td>
              </tr>
            </table>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Подсказка]" src="images/tip.png"/>
                </td>
                <th align="left">Подсказка</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Если используется файл <span class="strong"><strong>debian/source/local-options</strong></span>, то можно скрыть эти настройки из создаваемого пакета с исходным кодом. Это может быть полезно в том случае, когда локальные нестандартные файлы системы управления версиями вмешиваются в процесс создания вашего пакета.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="tar-ignore"/>5.15.4. Исправление с помощью tar-ignore</h3>
              </div>
            </div>
          </div>
          <p>This is for a native package.</p>
          <p>Можно исклюить некоторые файлы в дереве исходного кода  из создаваемого tar-архива с помощью настройки файлового шаблона, добавив строки вида «<span class="strong"><strong>tar-ignore=…</strong></span>» в файлы <span class="strong"><strong>debian/source/options</strong></span> или <span class="strong"><strong>debian/source/local-options</strong></span>.</p>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Примечание]" src="images/note.png"/>
                </td>
                <th align="left">Примечание</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Если, например, пакету с исходным кодом для родного пакета требуются в качестве тестовых данных файлы с расширением <span class="strong"><strong>.o</strong></span>, то использование <a class="xref" href="ch03.ru.html#devscripts-setup" title="3.5. devscripts">Раздел 3.5, «devscripts»</a> будет слишком агрессивным. Можно обойти эту проблему, удалив опцию <span class="strong"><strong>-I</strong></span> из <span class="strong"><strong>DEBUILD_DPKG_BUILDPACKAGE_OPTS</strong></span> в <a class="xref" href="ch03.ru.html#devscripts-setup" title="3.5. devscripts">Раздел 3.5, «devscripts»</a> и добавив строки вида «<span class="strong"><strong>tar-ignore=…</strong></span>» в файл <span class="strong"><strong>debian/source/local-options</strong></span> для каждого пакета.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="build"/>5.16. Системы сборки основой ветки</h2>
            </div>
          </div>
        </div>
        <p>Системы сборки основной ветки предназначены для выполнения нескольких шагов, необходимых для установки созданных из набора файлов исходного кода двоичных файлов в систему.</p>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Before attempting to make a Debian package, you should become familiar with the upstream build system of the upstream source code and try to build it.</p>
              </td>
            </tr>
          </table>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="autotools"/>5.16.1. Autotools</h3>
              </div>
            </div>
          </div>
          <p>Autotools (<span class="strong"><strong>autoconf</strong></span> + <span class="strong"><strong>automake</strong></span>) имеет 4 шага.</p>
          <div class="orderedlist">
            <ol class="orderedlist">
              <li class="listitem">
set up the build system (“<span class="strong"><strong>vim configure.ac Makefile.am</strong></span>” and “<span class="strong"><strong>autoreconf -ivf</strong></span>”)
</li>
              <li class="listitem">настройка системы сборки («<span class="strong"><strong>./configure</strong></span>»)</li>
              <li class="listitem">сборка дерева исходного кода («<span class="strong"><strong>make</strong></span>»)</li>
              <li class="listitem">установка двоичных файлов («<span class="strong"><strong>make install</strong></span>»)</li>
            </ol>
          </div>
          <p>The upstream maintainer usually performs step 1 and builds the upstream tarball for distribution using the “<span class="strong"><strong>make dist</strong></span>” command.   (The generated tarball contains not only the pristine upstream VCS contents but also other generated files.)</p>
          <p>The package maintainer needs to take care of steps 2 to 4 at least.  This is realized by the “<span class="strong"><strong>dh $@ --with autotools-dev</strong></span>” command used in the <span class="strong"><strong>debian/rules</strong></span> file.</p>
          <p>The package maintainer may wish to take care all steps 1 to 4.  This is realized by the “<span class="strong"><strong>dh $@ --with autoreconf</strong></span>” command used in the <span class="strong"><strong>debian/rules</strong></span> file.  This rebuilds all auto-generated files to the latest version and provides better support for porting to the newer architectures.</p>
          <p>For <span class="strong"><strong>compat</strong></span> level <span class="strong"><strong>10</strong></span> or newer, the simple “<span class="strong"><strong>dh $@</strong></span>” command without “<span class="strong"><strong>--with autoreconf</strong></span>” option can take care all steps 1 to 4, too.</p>
          <p>If you wish to learn more on Autotools, please see:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
<a class="ulink" href="https://www.gnu.org/software/automake/manual/index.html">Документация по GNU Automake</a>
</li>
              <li class="listitem">
<a class="ulink" href="https://www.gnu.org/software/autoconf/manual/index.html">Документация по GNU Autoconf</a>
</li>
              <li class="listitem">
<a class="ulink" href="https://www.lrde.epita.fr/~adl/autotools.html">Вводное руководство Autotools</a>
</li>
              <li class="listitem">
<a class="ulink" href="https://www.dwheeler.com/autotools/introduction-autotools.pdf">Введение в autotools (autoconf, automake, and libtool)</a>
</li>
              <li class="listitem">
<a class="ulink" href="https://autotools.io/index.html">Разрушитель мифов Autotools</a>
</li>
            </ul>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="cmake"/>5.16.2. CMake</h3>
              </div>
            </div>
          </div>
          <p>CMake имеет 4 шага.</p>
          <div class="orderedlist">
            <ol class="orderedlist">
              <li class="listitem">
set up the build system (“<span class="strong"><strong>vim CMakeLists.txt config.h.in</strong></span>”)
</li>
              <li class="listitem">настройка системы сборки («<span class="strong"><strong>cmake</strong></span>»)</li>
              <li class="listitem">сборка дерева исходного кода («<span class="strong"><strong>make</strong></span>»)</li>
              <li class="listitem">установка двоичных файлов («<span class="strong"><strong>make install</strong></span>»)</li>
            </ol>
          </div>
          <p>The upstream tarball contains no auto-generated files and is generated by the <span class="strong"><strong>tar</strong></span> command after step 1.</p>
          <p>The package maintainer needs to take care of steps 2 to 4.</p>
          <p>Если вы хотите изучить CMake, то обратитесь к следующей документации:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
<a class="ulink" href="https://cmake.org/">CMake</a>
</li>
              <li class="listitem">
<a class="ulink" href="https://cmake.org/cmake-tutorial/">Вводное руководство CMake</a>
</li>
            </ul>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="distutils"/>5.16.3. Python distutils</h3>
              </div>
            </div>
          </div>
          <p>Python distutils имеет 3 шага.</p>
          <div class="orderedlist">
            <ol class="orderedlist">
              <li class="listitem">
set up and configure the build system (“<span class="strong"><strong>vim setup.py</strong></span>”)
</li>
              <li class="listitem">сборка дерева исходного кода («<span class="strong"><strong>python setup.py build</strong></span>»)</li>
              <li class="listitem">установка двоичных файлов («<span class="strong"><strong>python setup.py install</strong></span>»)</li>
            </ol>
          </div>
          <p>The upstream maintainer usually performs step 1 and builds the upstream tarball for distribution using the “<span class="strong"><strong>python setup.py sdist</strong></span>” command.</p>
          <p>The package maintainer needs to take care of step 2.  This is realized simply by the “<span class="strong"><strong>dh $@</strong></span>” command used in the <span class="strong"><strong>debian/rules</strong></span> file, after <span class="strong"><strong>jessie</strong></span>.</p>
          <p>Ситуация с другими система сборки, такими как CMake, весьма похожа на случай со сборкой пакета на языке Python.</p>
          <p>If you wish to learn more on Python3 and <span class="strong"><strong>distutils</strong></span>, please see:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
<a class="ulink" href="https://docs.python.org/3/">Python3</a>
</li>
              <li class="listitem">
<a class="ulink" href="https://docs.python.org/3.4/library/distutils.html#module-distutils">distutils</a>
</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="dbg"/>5.17. Отладочная информация</h2>
            </div>
          </div>
        </div>
        <p>Пакет Debian собирается вместе с отладочной информацией, но посещается в двоичный пакет после её отделения, как то требуется в <a class="ulink" href="https://www.debian.org/doc/debian-policy/#document-ch-files">Главе 10 — Файлы</a> «Руководства по политике Debian».</p>
        <p>См.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem"><a class="ulink" href="https://www.debian.org/doc/manuals/developers-reference/best-pkging-practices.html#bpp-dbg">6.7.9. Лучшие практики для отладочных пакетов</a> «Справочника разработчика Debian».</li>
            <li class="listitem"><a class="ulink" href="https://sourceware.org/gdb/current/onlinedocs/gdb/Separate-Debug-Files.html#Separate-Debug-Files">18.2 Отладочная информация в отдельных файлах</a> «Отладка с помощью gdb»</li>
            <li class="listitem"><span class="strong"><strong>dh_strip</strong></span>(1)</li>
            <li class="listitem"><span class="strong"><strong>strip</strong></span>(1)</li>
            <li class="listitem"><span class="strong"><strong>readelf</strong></span>(1)</li>
            <li class="listitem"><span class="strong"><strong>objcopy</strong></span>(1)</li>
            <li class="listitem">Debian вики <a class="ulink" href="https://wiki.debian.org/DebugPackage">DebugPackage</a></li>
            <li class="listitem">Debian вики <a class="ulink" href="https://wiki.debian.org/AutomaticDebugPackages">AutomaticDebugPackages</a></li>
            <li class="listitem">Сообщение в списке рассылки debian-devel: <a class="ulink" href="https://lists.debian.org/debian-devel/2015/08/msg00443.html">Информация о статусе автоматических отладочных пакетов</a> (2015-08-15)</li>
          </ul>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="dbgsym"/>5.17.1. New -dbgsym package (Stretch 9.0 and after)</h3>
              </div>
            </div>
          </div>
          <p>The debugging information is automatically packaged separately as the debug package using the <span class="strong"><strong>dh_strip</strong></span> command with its default behavior.  The name of such a debug package normally has the <span class="strong"><strong>-dbgsym</strong></span> suffix.</p>
          <p>If there were no <span class="strong"><strong>-dbg</strong></span> packages defined in the <span class="strong"><strong>debian/control</strong></span> file, no special care is needed for updating the package after the Stretch 9.0 release.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
The <span class="strong"><strong>debian/rules</strong></span> file shouldn’t explicitly contain <span class="strong"><strong>dh_strip</strong></span>.
</li>
              <li class="listitem">
Set <span class="strong"><strong>debian/compat</strong></span> to <span class="strong"><strong>11</strong></span> or newer.
</li>
              <li class="listitem">
Bump the <span class="strong"><strong>Build-Depends</strong></span> to <span class="strong"><strong>debhelper (&gt;=11~)</strong></span> or newer.
</li>
            </ul>
          </div>
          <p>If there were <span class="strong"><strong>-dbg</strong></span> packages defined in the <span class="strong"><strong>debian/control</strong></span> file, following care is needed for updating the old package after the Stretch 9.0 release.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
Drop definition entries of such <span class="strong"><strong>-dbg</strong></span> packages in the <span class="strong"><strong>debian/control</strong></span> file.
</li>
              <li class="listitem">
Replace “<span class="strong"><strong>dh_strip --dbg-package=</strong></span><span class="emphasis"><em>package”</em></span> with “<span class="strong"><strong>dh_strip --dbgsym-migration=</strong></span><span class="emphasis"><em>package”</em></span> in the <span class="strong"><strong>debian/rules</strong></span> file to avoid file conflicts with the (now obsolete) <span class="strong"><strong>-dbg</strong></span> package.  See <span class="strong"><strong>dh_strip</strong></span>(1).
</li>
              <li class="listitem">
Set <span class="strong"><strong>debian/compat</strong></span> to <span class="strong"><strong>11</strong></span> or newer.
</li>
              <li class="listitem">
Bump the <span class="strong"><strong>Build-Depends</strong></span> to <span class="strong"><strong>debhelper (&gt;=11~)</strong></span> or newer.
</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="lib"/>5.18. Пакет библиотеки</h2>
            </div>
          </div>
        </div>
        <p>Packaging library software requires you to perform much more work than usual.  Here are some reminders for packaging library software:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
The library binary package must be named as in <a class="xref" href="ch05.ru.html#libnames" title="5.5.1.3. Имя пакета библиотеки">Раздел 5.5.1.3, «Имя пакета библиотеки»</a>.
</li>
            <li class="listitem">
Debian ships shared libraries such as <span class="strong"><strong>/usr/lib/&lt;triplet&gt;/lib</strong></span><span class="emphasis"><em>foo-0.1</em></span><span class="strong"><strong>.so.</strong></span><span class="emphasis"><em>1.0.0</em></span> (see <a class="xref" href="ch05.ru.html#multiarch" title="5.20. Multiarch">Раздел 5.20, «Multiarch»</a>).
</li>
            <li class="listitem">
Debian encourages using versioned symbols in the shared library (see <a class="xref" href="ch05.ru.html#symbols" title="5.18.1. Библиотека символов">Раздел 5.18.1, «Библиотека символов»</a>).
</li>
            <li class="listitem">Debian не поставляет libtool-архивы библиотек <span class="strong"><strong>*.la</strong></span>.</li>
            <li class="listitem">
Debian discourages using and shipping <span class="strong"><strong>*.a</strong></span> static library files.
</li>
          </ul>
        </div>
        <p>Before packaging shared library software, see:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem"><a class="ulink" href="https://www.debian.org/doc/debian-policy/#document-ch-sharedlibs">Глава 8 — Разделяемые библиотеки</a> «Руководства по политике Debian»</li>
            <li class="listitem"><a class="ulink" href="https://www.debian.org/doc/debian-policy/#libraries">10.2 Библиотеки</a> «Руководства по политике Debian»</li>
            <li class="listitem"><a class="ulink" href="https://www.debian.org/doc/manuals/developers-reference/best-pkging-practices.html#bpp-libraries">6.7.2. Библиотеки</a> «Справочника разработчика Debian»</li>
          </ul>
        </div>
        <p>Для получения исторических сведений обратитесь к следующей документации:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p class="simpara">
<a class="ulink" href="https://debconf4.debconf.org/talks/dependency-hell/img1.html">Спасение из ада зависимостей</a> <a href="#ftn.idm3827" class="footnote" id="idm3827"><sup class="footnote">[16]</sup></a>
</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
This encourages having versioned symbols in the shared library.
</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">
<a class="ulink" href="https://www.netfort.gr.jp/~dancer/column/libpkg-guide/libpkg-guide.html">Руководство по созданию пакетов Debian с библиотеками</a> <a href="#ftn.idm3836" class="footnote" id="idm3836"><sup class="footnote">[17]</sup></a>
</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Кроме того, прочтите ветку обсуждения, последовавшего за <a class="ulink" href="https://lists.debian.org/debian-devel/2004/06/msg00069.html">сообщением</a> об этом.</li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="symbols"/>5.18.1. Библиотека символов</h3>
              </div>
            </div>
          </div>
          <p>The symbols support in <span class="strong"><strong>dpkg</strong></span> introduced in Debian <span class="strong"><strong>lenny</strong></span> (5.0, May 2009) helps us to manage the backward ABI compatibility of the library package with the same package name.  The <span class="strong"><strong>DEBIAN/symbols</strong></span> file in the binary package provides the minimal version associated with each symbol.</p>
          <p>An oversimplified method for the library packaging is as follows.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
                <p class="simpara">Распакуйте старый файл <span class="strong"><strong>DEBIAN/symbols</strong></span> ближайшего предыдущего двоичного пакета с помощью команды «<span class="strong"><strong>dpkg-deb -e</strong></span>».</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">Либо можно использовать команду <span class="strong"><strong>mc</strong></span> для распаковки файла <span class="strong"><strong>DEBIAN/symbols</strong></span>.</li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p class="simpara">Скопируйте его в файл <span class="strong"><strong>debian/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.symbols</strong></span>.</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">Если это первый пакет, то используйте пустой файл.</li>
                  </ul>
                </div>
              </li>
              <li class="listitem">
                <p class="simpara">Соберите двоичный пакет.</p>
                <div class="itemizedlist">
                  <ul class="itemizedlist">
                    <li class="listitem">
                      <p class="simpara">
If the <span class="strong"><strong>dpkg-gensymbols</strong></span> command warns about some new symbols:
</p>
                      <div class="itemizedlist">
                        <ul class="itemizedlist">
                          <li class="listitem">Распакуйте обновлённый файл <span class="strong"><strong>DEBIAN/symbols</strong></span> с помощью команды «<span class="strong"><strong>dpkg-deb -e</strong></span>».</li>
                          <li class="listitem">Удалите номер редакции версии Debian, например, <span class="strong"><strong>-1</strong></span>, из файла.</li>
                          <li class="listitem">Скопируйте его в файл <span class="strong"><strong>debian/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.symbols</strong></span>.</li>
                          <li class="listitem">Повторно соберите двоичный пакет.</li>
                        </ul>
                      </div>
                    </li>
                    <li class="listitem">
                      <p class="simpara">
If the <span class="strong"><strong>dpkg-gensymbols</strong></span> command does not warn about new symbols:
</p>
                      <div class="itemizedlist">
                        <ul class="itemizedlist">
                          <li class="listitem">Работа с библиотекой завершена.</li>
                        </ul>
                      </div>
                    </li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
          <p>Подробные сведения можно получить, обратившись к следующей справочной информации:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem"><a class="ulink" href="https://www.debian.org/doc/debian-policy/#the-symbols-system">8.6.3 Система символов</a> «Руководства по политике Debian»</li>
              <li class="listitem"><span class="strong"><strong>dh_makeshlibs</strong></span>(1)</li>
              <li class="listitem"><span class="strong"><strong>dpkg-gensymbols</strong></span>(1)</li>
              <li class="listitem"><span class="strong"><strong>dpkg-shlibdeps</strong></span>(1)</li>
              <li class="listitem"><span class="strong"><strong>deb-symbols</strong></span>(5)</li>
            </ul>
          </div>
          <p>Также следует ознакомиться со следующей документацией:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">Debian вики <a class="ulink" href="https://wiki.debian.org/UsingSymbolsFiles">UsingSymbolsFiles</a></li>
              <li class="listitem">Debian вики <a class="ulink" href="https://wiki.debian.org/Projects/ImprovedDpkgShlibdeps">Projects/ImprovedDpkgShlibdeps</a></li>
              <li class="listitem">Команда Debian KDE <a class="ulink" href="https://pkg-kde.alioth.debian.org/symbolfiles.html">Работа с файлами символов</a></li>
              <li class="listitem">
<a class="xref" href="ch08.ru.html#autotools-multi" title="8.11. Autotools (multi-binary package)">Раздел 8.11, «Autotools (multi-binary package)»</a>
</li>
              <li class="listitem">
<a class="xref" href="ch08.ru.html#cmake-multi" title="8.12. CMake (multi-binary package)">Раздел 8.12, «CMake (multi-binary package)»</a>
</li>
            </ul>
          </div>
          <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Tip">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Подсказка]" src="images/tip.png"/>
                </td>
                <th align="left">Подсказка</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>For C++ libraries and other cases where the tracking of symbols is problematic, follow <a class="ulink" href="https://www.debian.org/doc/debian-policy/#the-shlibs-system">8.6.4 The shlibs system</a> of the “Debian Policy Manual”, instead.  Please make sure to erase the empty <span class="strong"><strong>debian/</strong></span><span class="emphasis"><em>binarypackage</em></span><span class="strong"><strong>.symbols</strong></span> file generated by the <span class="strong"><strong>debmake</strong></span> command.  For this case, the <span class="strong"><strong>DEBIAN/shlibs</strong></span> file is used.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="lib-trans"/>5.18.2. Смена библиотек</h3>
              </div>
            </div>
          </div>
          <p>Когда вы создаёте новую версию пакета библиотеки, изменение которой влияет на другие пакеты, вам следует с помощью команды <span class="strong"><strong>reportbug</strong></span> отправить сообщение об ошибке в псевдопакете <span class="strong"><strong>release.debian.org</strong></span> с приложением <a class="ulink" href="https://ben.debian.net/#_query_language">ben-файла</a> и подождать подтверждение загрузки от <a class="ulink" href="https://wiki.debian.org/Teams/ReleaseTeam">команды подготовки выпуска</a>.</p>
          <p>У команды подготовки выпуска имеется <a class="ulink" href="https://release.debian.org/transitions/">система отслеживания переходов</a>. См. <a class="ulink" href="https://wiki.debian.org/Teams/ReleaseTeam/Transitions">Transitions</a>.</p>
          <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Caution">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Внимание]" src="images/caution.png"/>
                </td>
                <th align="left">Внимание</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>Please make sure to rename binary packages as in <a class="xref" href="ch05.ru.html#libnames" title="5.5.1.3. Имя пакета библиотеки">Раздел 5.5.1.3, «Имя пакета библиотеки»</a>.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="debconf"/>5.19. debconf</h2>
            </div>
          </div>
        </div>
        <p>Пакет <span class="strong"><strong>debconf</strong></span> позволяет нам настраивать пакеты в ходе их установки двуями основными способами:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">неинтерактивно из предпосевных настроек <span class="strong"><strong>программы установки Debian</strong></span>.</li>
            <li class="listitem">
              <p class="simpara">интерактивно из меню-ориентированного интерфейса (<span class="strong"><strong>dialog</strong></span>, <span class="strong"><strong>gnome</strong></span>, <span class="strong"><strong>kde</strong></span>, …)</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">установка пакета: вызывается командой <span class="strong"><strong>dpkg</strong></span></li>
                  <li class="listitem">установленный пакет: вызывается командой <span class="strong"><strong>dpkg-reconfigure</strong></span></li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <p>Всё взаимодействие с пользователем в ходе установки пакета должны обрабатыватся системой <span class="strong"><strong>debconf</strong></span> с помощью следующих файлов.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p class="simpara">
<span class="strong"><strong>debian/</strong></span><span class="emphasis"><em>binarypackage</em></span><span class="strong"><strong>.config</strong></span>
</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Этот <span class="strong"><strong>config</strong></span>-сценарий <span class="strong"><strong>debconf</strong></span> используется для того, чтобы задавать любые вопросы, необходимые для настройки пакета.</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">
                <span class="strong">
                  <strong>debian/</strong>
                </span>
                <span class="emphasis">
                  <em>двоичныйпакет</em>
                </span>
                <span class="strong">
                  <strong>.template</strong>
                </span>
              </p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Этот <span class="strong"><strong>templates</strong></span>-файл <span class="strong"><strong>debconf</strong></span> используется для того, чтобы задавать любые вопросы, наобходимые для настройки пакета.</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">сценарии настройка пакета</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
                    <span class="strong">
                      <strong>debian/</strong>
                    </span>
                    <span class="emphasis">
                      <em>двоичныйпакет</em>
                    </span>
                    <span class="strong">
                      <strong>.preinst</strong>
                    </span>
                  </li>
                  <li class="listitem">
                    <span class="strong">
                      <strong>debian/</strong>
                    </span>
                    <span class="emphasis">
                      <em>двоичныйпакет</em>
                    </span>
                    <span class="strong">
                      <strong>.prerm</strong>
                    </span>
                  </li>
                  <li class="listitem">
                    <span class="strong">
                      <strong>debian/</strong>
                    </span>
                    <span class="emphasis">
                      <em>двоичныйпакет</em>
                    </span>
                    <span class="strong">
                      <strong>.postinst</strong>
                    </span>
                  </li>
                  <li class="listitem">
                    <span class="strong">
                      <strong>debian/</strong>
                    </span>
                    <span class="emphasis">
                      <em>двоичныйпакет</em>
                    </span>
                    <span class="strong">
                      <strong>.postrm</strong>
                    </span>
                  </li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <p>See <span class="strong"><strong>dh_installdebconf</strong></span>(1), <span class="strong"><strong>debconf</strong></span>(7), <span class="strong"><strong>debconf-devel</strong></span>(7) and <a class="ulink" href="https://www.debian.org/doc/debian-policy/#prompting-in-maintainer-scripts">3.9.1 Prompting in maintainer scripts</a> in the “Debian Policy Manual”.</p>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="multiarch"/>5.20. Multiarch</h2>
            </div>
          </div>
        </div>
        <p>Multiarch support for cross-architecture installation of binary packages (particularly <span class="strong"><strong>i386</strong></span> and <span class="strong"><strong>amd64</strong></span>, but also other combinations) in the <span class="strong"><strong>dpkg</strong></span> and <span class="strong"><strong>apt</strong></span> packages introduced in Debian <span class="strong"><strong>wheezy</strong></span> (7.0, May 2013), demands that we pay extra attention to packaging.</p>
        <p>Вам следует подробно изнакомиться со следующей справочной документацией:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p class="simpara">Ubuntu вики (основная ветка разработки)</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
<a class="ulink" href="https://wiki.ubuntu.com/MultiarchSpec">MultiarchSpec</a>
</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara">Debian вики (ситуация в Debian)</p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">
<a class="ulink" href="https://wiki.debian.org/Multiarch">Поддержка мультиархитектурности в Debian</a>
</li>
                  <li class="listitem">
<a class="ulink" href="https://wiki.debian.org/Multiarch/Implementation">Multiarch/Implementation</a>
</li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <p>Мультиархитектурность включается с помощью значения <span class="strong"><strong>&lt;тройки&gt;</strong></span> вида <span class="strong"><strong>i386-linux-gnu</strong></span> или <span class="strong"><strong>x86_64-linux-gnu</strong></span> в пути установки разделяемых библиотек вида <span class="strong"><strong>/usr/lib/&lt;тройка&gt;/</strong></span> и т. д.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">Значение <span class="strong"><strong>&lt;тройки&gt;</strong></span>, внутренне необходимое для сценариев <span class="strong"><strong>debhelper</strong></span>, устанавливается самими сценариями неявно. Сопровождающему не нужно об этом беспокоиться.</li>
            <li class="listitem">
              <p class="simpara">
The <span class="strong"><strong>&lt;triplet&gt;</strong></span> value used in <span class="strong"><strong>override_dh_</strong></span>* target scripts must be explicitly set in the <span class="strong"><strong>debian/rules</strong></span> file by the maintainer.  The <span class="strong"><strong>&lt;triplet&gt;</strong></span> value is stored in the <span class="strong"><strong>$(DEB_HOST_MULTIARCH)</strong></span> variable in the following <span class="strong"><strong>debian/rules</strong></span> snippet example:
</p>
              <pre class="screen">DEB_HOST_MULTIARCH = $(shell dpkg-architecture -qDEB_HOST_MULTIARCH)
...
override_dh_install:
        mkdir -p package1/lib/$(DEB_HOST_MULTIARCH)
        cp -dR tmp/lib/. package1/lib/$(DEB_HOST_MULTIARCH)</pre>
            </li>
          </ul>
        </div>
        <p>См.:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
<a class="xref" href="ch05.ru.html#variablesrules" title="5.4.4. Переменные debian/rules">Раздел 5.4.4, «Переменные debian/rules»</a>
</li>
            <li class="listitem"><span class="strong"><strong>dpkg-architecture</strong></span>(1)</li>
            <li class="listitem">
<a class="xref" href="ch05.ru.html#boption" title="5.5.1.1. debmake -b">Раздел 5.5.1.1, «debmake -b»</a>
</li>
            <li class="listitem">
<a class="xref" href="ch05.ru.html#package-split-example" title="5.5.1.2. Сценарии и примеры разделения пакета">Раздел 5.5.1.2, «Сценарии и примеры разделения пакета»</a>
</li>
          </ul>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_multiarch_library_path"/>5.20.1. Путь мультиархитектурной библиотеки</h3>
              </div>
            </div>
          </div>
          <p>Debian policy requires following <a class="ulink" href="https://www.debian.org/doc/packaging-manuals/fhs/fhs-2.3.html">Filesystem Hierarchy Standard</a>.  Its <a class="ulink" href="https://www.debian.org/doc/packaging-manuals/fhs/fhs-2.3.html#USRLIBLIBRARIESFORPROGRAMMINGANDPA">/usr/lib : Libraries for programming and packages</a> states "<span class="strong"><strong>/usr/lib</strong></span> includes object files, libraries, and internal binaries that are not intended to be executed directly by users or shell scripts."</p>
          <p>Debian policy makes an exception to the <a class="ulink" href="https://www.debian.org/doc/packaging-manuals/fhs/fhs-2.3.html">Filesystem Hierarchy Standard</a> to use <span class="strong"><strong>/usr/lib/&lt;triplet&gt;/</strong></span> instead of <span class="strong"><strong>/usr/lib&lt;qual&gt;/</strong></span> (e.g., <span class="strong"><strong>/lib32/</strong></span> and <span class="strong"><strong>/lib64/</strong></span>) to support a multiarch library.</p>
          <div class="table">
            <a id="idm4095"/>
            <p class="title">
              <strong>Таблица 5.1. Опции путя мультиархитектурных библиотек</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="Опции путя мультиархитектурных библиотек" border="1">
                <colgroup>
                  <col class="col_1"/>
                  <col class="col_2"/>
                  <col class="col_3"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left" valign="top">Классический путь</th>
                    <th style="text-align: left" valign="top">Мультиархитектурный путь для i386</th>
                    <th style="text-align: left" valign="top">Мультиархитектуный путь для amd64</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/lib/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/lib/i386-linux-gnu/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/lib/x86_64-linux-gnu/</strong>
                        </span>
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/lib/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/lib/i386-linux-gnu/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/lib/x86_64-linux-gnu/</strong>
                        </span>
                      </p>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>Для пакетов на основе Autotools, в которых используется пакет <span class="strong"><strong>debhelper</strong></span> с (compat&gt;=9), установка этого пути выполняется автоматически с помощью команды <span class="strong"><strong>dh_auto_configure</strong></span>.</p>
          <p>При работе с другими пакетами, использующими неподдерживаемые системы сборки, вам следует вручную изменить путь установки указанным ниже способом.</p>
          <div class="itemizedlist">
            <ul class="itemizedlist">
              <li class="listitem">
If “<span class="strong"><strong>./configure</strong></span>” is used in the <span class="strong"><strong>override_dh_auto_configure</strong></span> target in <span class="strong"><strong>debian/rules</strong></span>, make sure to replace it with “<span class="strong"><strong>dh_auto_configure --</strong></span>” while re-targeting the install path from <span class="strong"><strong>/usr/lib/</strong></span> to <span class="strong"><strong>/usr/lib/$(DEB_HOST_MULTIARCH)/</strong></span>.
</li>
              <li class="listitem">Замените все пути с <span class="strong"><strong>/usr/lib/</strong></span> на <span class="strong"><strong>/usr/lib/*/</strong></span> в файлах <span class="strong"><strong>debian/</strong></span><span class="emphasis"><em>foo</em></span><span class="strong"><strong>.install</strong></span>.</li>
            </ul>
          </div>
          <p>All files installed simultaneously as the multiarch package to the same file path should have exactly the same file content. You must be careful with differences generated by the data byte order and by the compression algorithm.</p>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
              <tr>
                <td rowspan="2" align="center" valign="top">
                  <img alt="[Примечание]" src="images/note.png"/>
                </td>
                <th align="left">Примечание</th>
              </tr>
              <tr>
                <td align="left" valign="top">
                  <p>The <span class="strong"><strong>--libexecdir</strong></span> option of the <span class="strong"><strong>./configure</strong></span> command specifies the default path to install executable programs run by other programs rather than by users. Its Autotools default is <span class="strong"><strong>/usr/libexec/</strong></span> but its Debian non-multi-arch default is <span class="strong"><strong>/usr/lib/</strong></span>.  If such executables are a part of a "Multi-arch: foreign" package, a path such as <span class="strong"><strong>/usr/lib/</strong></span> or <span class="strong"><strong>/usr/lib/</strong></span><span class="emphasis"><em>packagename</em></span> may be more desirable than <span class="strong"><strong>/usr/lib/&lt;triplet&gt;/</strong></span>, which <span class="strong"><strong>dh_auto_configure</strong></span> uses.  The <a class="ulink" href="https://www.gnu.org/prep/standards/html_node/Directory-Variables.html">GNU Coding Standards: 7.2.5 Variables for Installation Directories</a> has a description for <span class="strong"><strong>libexecdir</strong></span> as "The definition of <span class="strong"><strong>libexecdir</strong></span> is the same for all packages, so you should install your data in a subdirectory thereof. Most packages install their data under <span class="strong"><strong>$(libexecdir)/package-name/</strong></span> …". (It is always a good idea to follow GNU unless it conflicts with the Debian policy.)</p>
                </td>
              </tr>
            </table>
          </div>
          <p>Файлы разделяемых библиотек, расположенные в каталогах по умолчанию, <span class="strong"><strong>/usr/lib/</strong></span> и <span class="strong"><strong>/usr/lib/&lt;тройка&gt;/</strong></span>, загружаются автоматически.</p>
          <p>For shared library files in another path, the GCC option <span class="strong"><strong>-l</strong></span> must be set by the <span class="strong"><strong>pkg-config</strong></span> command to make them load properly.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_multiarch_header_file_path"/>5.20.2. Путь мультархитектурных заголовочных файлов</h3>
              </div>
            </div>
          </div>
          <p>В мультиархитектурной системе Debian GCC по умолчанию включает и <span class="strong"><strong>/usr/include/</strong></span>, и <span class="strong"><strong>/usr/include/&lt;тройка&gt;/</strong></span>.</p>
          <p>If the header file is not in those paths, the GCC option <span class="strong"><strong>-I</strong></span> must be set by the <span class="strong"><strong>pkg-config</strong></span> command to make "<span class="strong"><strong>#include &lt;</strong></span><span class="emphasis"><em>foo.h</em></span><span class="strong"><strong>&gt;</strong></span>" work properly.</p>
          <div class="table">
            <a id="idm4180"/>
            <p class="title">
              <strong>Таблица 5.2. Опции пути мультиархитектурного заголовочного файла</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="Опции пути мультиархитектурного заголовочного файла" border="1">
                <colgroup>
                  <col class="col_1"/>
                  <col class="col_2"/>
                  <col class="col_3"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left" valign="top">Классический путь</th>
                    <th style="text-align: left" valign="top">Мультиархитектурный путь для i386</th>
                    <th style="text-align: left" valign="top">Мультиархитектуный путь для amd64</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/include/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/include/i386-linux-gnu/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/include/x86_64-linux-gnu/</strong>
                        </span>
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/include/</strong>
                        </span>
                        <span class="emphasis">
                          <em>имяпакета</em>
                        </span>
                        <span class="strong">
                          <strong>/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/include/i386-linux-gnu/</strong>
                        </span>
                        <span class="emphasis">
                          <em>имяпакета</em>
                        </span>
                        <span class="strong">
                          <strong>/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/include/x86_64-linux-gnu/</strong>
                        </span>
                        <span class="emphasis">
                          <em>имяпакета</em>
                        </span>
                        <span class="strong">
                          <strong>/</strong>
                        </span>
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p/>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/lib/i386-linux-gnu/</strong>
                        </span>
                        <span class="emphasis">
                          <em>имяпакета</em>
                        </span>
                        <span class="strong">
                          <strong>/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/lib/x86_64-linux-gnu/</strong>
                        </span>
                        <span class="emphasis">
                          <em>имяпакета</em>
                        </span>
                        <span class="strong">
                          <strong>/</strong>
                        </span>
                      </p>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
          <p>The use of the <span class="strong"><strong>/usr/lib/&lt;triplet&gt;/</strong></span><span class="emphasis"><em>packagename</em></span><span class="strong"><strong>/</strong></span> path for the library files allows the upstream maintainer to use the same install script for the multiatch system with <span class="strong"><strong>/usr/lib/&lt;triplet&gt;</strong></span> and the biarch system with <span class="strong"><strong>/usr/lib&lt;qual&gt;/</strong></span>. <a href="#ftn.idm4237" class="footnote" id="idm4237"><sup class="footnote">[18]</sup></a></p>
          <p>The use of the file path containing <span class="emphasis"><em>packagename</em></span> enables having more than 2 development libraries simultaneously installed on a system.</p>
        </div>
        <div class="section">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="_the_multiarch_emphasis_role_strong_pc_emphasis_file_path"/>5.20.3. Мультиархиектурный путь к файлу <span class="strong"><strong>*.pc</strong></span></h3>
              </div>
            </div>
          </div>
          <p>Программа <span class="strong"><strong>pkg-config</strong></span> используется для получения информации об установленных в системе библиотеках. Она сохраняет свои параметры настройки в файле <span class="strong"><strong>*.pc</strong></span> и используется для установки опций <span class="strong"><strong>-I</strong></span> и <span class="strong"><strong>-l</strong></span> для GCC.</p>
          <div class="table">
            <a id="idm4251"/>
            <p class="title">
              <strong>Таблица 5.3. Опции пути к файлу <span class="strong">*.pc</span></strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="Опции пути к файлу *.pc" border="1">
                <colgroup>
                  <col class="col_1"/>
                  <col class="col_2"/>
                  <col class="col_3"/>
                </colgroup>
                <thead>
                  <tr>
                    <th style="text-align: left" valign="top">Классический путь</th>
                    <th style="text-align: left" valign="top">Мультиархитектурный путь для i386</th>
                    <th style="text-align: left" valign="top">Мультиархитектуный путь для amd64</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/lib/pkgconfig/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/lib/i386-linux-gnu/pkgconfig/</strong>
                        </span>
                      </p>
                    </td>
                    <td style="text-align: left" valign="top">
                      <p>
                        <span class="strong">
                          <strong>/usr/lib/x86_64-linux-gnu/pkgconfig/</strong>
                        </span>
                      </p>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break"/>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="harden"/>5.21. Усиление безопасности компилятора</h2>
            </div>
          </div>
        </div>
        <p>The compiler hardening support spreading for Debian <span class="strong"><strong>jessie</strong></span> (8.0, TBA) demands that we pay extra attention to the packaging.</p>
        <p>Вам следует подробно изнакомиться со следующей справочной документацией:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">Debian вики <a class="ulink" href="https://wiki.debian.org/Hardening">Усиление безопасности</a></li>
            <li class="listitem">Debian вики <a class="ulink" href="https://wiki.debian.org/HardeningWalkthrough">Пошаговое руководство по усилению безопасности</a></li>
          </ul>
        </div>
        <p>Команда <span class="strong"><strong>debmake</strong></span> добавляет шаблонные комментарии в файл <span class="strong"><strong>debian/rules</strong></span>, требующиеся для <span class="strong"><strong>DEB_BUILD_MAINT_OPTIONS</strong></span>, <span class="strong"><strong>DEB_CFLAGS_MAINT_APPEND</strong></span> и <span class="strong"><strong>DEB_LDFLAGS_MAINT_APPEND</strong></span> (см. <a class="xref" href="ch04.ru.html" title="Глава 4. Простой пример">Глава 4, <em>Простой пример</em></a> и <span class="strong"><strong>dpkg-buildflags</strong></span>(1)).</p>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="ci"/>5.22. Непрерывная интеграция</h2>
            </div>
          </div>
        </div>
        <p><a class="ulink" href="http://dep.debian.net/deps/dep8/">DEP-8</a> defines the <span class="strong"><strong>debian/tests/control</strong></span> file as the RFC822-style test metadata file for <a class="ulink" href="https://en.wikipedia.org/wiki/Continuous_integration">continuous integration</a> (CI) of the Debian package.</p>
        <p>It is used after building the binary packages from the source package containing this <span class="strong"><strong>debian/tests/control</strong></span> file.  When the <span class="strong"><strong>autopkgtest</strong></span> command is run, the generated binary packages are installed and tested in the virtual environment according to this file.</p>
        <p>См. документацию в каталоге <span class="strong"><strong>/usr/share/doc/autopkgtest/</strong></span>, а также <a class="ulink" href="http://packaging.ubuntu.com/html/auto-pkg-test.html">раздел «3. autopkgtest: автоматическое тестирование пакетов»</a> в «Руководстве по созданию пакетов Ubuntu».</p>
        <p>Кроме того, в Debian существует ещё несколько других инструментов непрерывной интеграции.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
The <span class="strong"><strong>debci</strong></span> package: CI platform on top of the <span class="strong"><strong>autopkgtest</strong></span> package
</li>
            <li class="listitem">Пакет <span class="strong"><strong>jenkins</strong></span>: платформа непрерывной интеграции общего назначения</li>
          </ul>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="bootstrap"/>5.23. Предзагрузка</h2>
            </div>
          </div>
        </div>
        <p>Debian cares about supporting new ports or flavours.  The new ports or flavours
require <a class="ulink" href="https://wiki.debian.org/DebianBootstrap">bootstrapping</a> operation for
the cross-build of the initial minimal native-building system.  In order to avoid
build-dependency loops during bootstrapping, the build-dependency needs to be
reduced using the <a class="ulink" href="https://wiki.debian.org/BuildProfileSpec">profile</a> builds
feature.</p>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Если сборка базового пакета <code class="literal">foo</code> зависит от пакета <code class="literal">bar</code>, имеющего глубокую цепочку сборочных зависимостей, но <code class="literal">bar</code> используется только в цели <span class="strong"><strong>test</strong></span> в <code class="literal">foo</code>, вы можете пометить <code class="literal">bar</code> меткой <span class="strong"><strong>&lt;!nocheck&gt;</strong></span> в поле <span class="strong"><strong>Build-depends</strong></span> пакета <code class="literal">foo</code>, что позволит избежать циклов при сборке.</p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="section">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a id="bug"/>5.24. Bug reports</h2>
            </div>
          </div>
        </div>
        <p>Поведение команды <span class="strong"><strong>reportbug</strong></span>, используемой для отправки отчётов об ошибке в <span class="emphasis"><em>двоичномпакете</em></span>, может быть настроено с помощью файлов в каталоге <span class="strong"><strong>usr/share/bug/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/</strong></span>.</p>
        <p>Команда <span class="strong"><strong>dh_bugfiles</strong></span> устанавливает эти файлы из шаблонных файлов в каталоге <span class="strong"><strong>debian/</strong></span>.</p>
        <div class="itemizedlist">
          <ul class="itemizedlist">
            <li class="listitem">
              <p class="simpara"><span class="strong"><strong>debian/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.bug-control</strong></span> → <span class="strong"><strong>usr/share/bug/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/control</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Этот файл содержит некоторые указания, такие как перенаправления отчёта об ошибке другому пакету.</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara"><span class="strong"><strong>debian/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.bug-presubj</strong></span> → <span class="strong"><strong>usr/share/bug/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/presubj</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Этот файл отображается пользователю с помощью команды <span class="strong"><strong>reportbug</strong></span>.</li>
                </ul>
              </div>
            </li>
            <li class="listitem">
              <p class="simpara"><span class="strong"><strong>debian/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>.bug-script</strong></span> → <span class="strong"><strong>usr/share/bug/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span> или <span class="strong"><strong>usr/share/bug/</strong></span><span class="emphasis"><em>двоичныйпакет</em></span><span class="strong"><strong>/script</strong></span></p>
              <div class="itemizedlist">
                <ul class="itemizedlist">
                  <li class="listitem">Команда <span class="strong"><strong>reportbug</strong></span> запускает этот сценарий для создания шаблонного файла для отчёта об ошибке.</li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <p>См. <span class="strong"><strong>dh_bugfiles</strong></span>(1) и <a class="ulink" href="file:///usr/share/doc/reportbug/README.developers.gz">Возможности reportbug для разработчиков</a></p>
        <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top">
                <img alt="[Подсказка]" src="images/tip.png"/>
              </td>
              <th align="left">Подсказка</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>If you always remind the bug reporter of something or ask them about their
situation, use these files to automate it.</p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="footnotes">
        <br/>
        <hr/>
        <div id="ftn.idm1582" class="footnote">
          <p><a href="#idm1582" class="simpara"><sup class="simpara">[10] </sup></a>Для более чем 90% пакетов длина имени пакета равна 24 символам или меньше этого числа; длина версии основной ветки равна 10 символам или меньше, а длина номера редакции Debian равна 3 символам или меньше.</p>
        </div>
        <div id="ftn.idm1654" class="footnote">
          <p><a href="#idm1654" class="simpara"><sup class="simpara">[11] </sup></a>Use of the “<span class="strong"><strong>debmake -t …</strong></span>” command can help this workflow.  See <a class="xref" href="ch06.ru.html#dt-option" title="6.2. Срезы основной ветки (-d, -t)">Раздел 6.2, «Срезы основной ветки (-d, -t)»</a>.</p>
        </div>
        <div id="ftn.idm1757" class="footnote">
          <p><a href="#idm1757" class="simpara"><sup class="simpara">[12] </sup></a>This simplicity is available since version 7 of the <span class="strong"><strong>debhelper</strong></span> package.  This guide assumes the use of <span class="strong"><strong>debhelper</strong></span> version 9 or newer.</p>
        </div>
        <div id="ftn.idm1762" class="footnote">
          <p><a href="#idm1762" class="simpara"><sup class="simpara">[13] </sup></a>Команда <span class="strong"><strong>debmake</strong></span> создаёт несколько более сложный файл <span class="strong"><strong>debian/rules</strong></span>. Тем не менее, это базовая часть.</p>
        </div>
        <div id="ftn.idm2475" class="footnote">
          <p><a href="#idm2475" class="simpara"><sup class="simpara">[14] </sup></a>If you are using the <span class="strong"><strong>vim</strong></span> editor, make sure to save this with the “<span class="strong"><strong>:wq</strong></span>” command.</p>
        </div>
        <div id="ftn.idm2491" class="footnote">
          <p><a href="#idm2491" class="simpara"><sup class="simpara">[15] </sup></a>Ранее для выполнения такой внутренней проверки использовалась команда <span class="strong"><strong>licensecheck</strong></span> из пакета <span class="strong"><strong>devscripts</strong></span>. Теперь же команда <span class="strong"><strong>licensecheck</strong></span> предоставляется в виде отдельного пакета <span class="strong"><strong>licensecheck</strong></span> и содержит множество улучшений.</p>
        </div>
        <div id="ftn.idm3827" class="footnote">
          <p><a href="#idm3827" class="simpara"><sup class="simpara">[16] </sup></a>Этот документ был написан до появления файла <span class="strong"><strong>symbols</strong></span>.</p>
        </div>
        <div id="ftn.idm3836" class="footnote">
          <p><a href="#idm3836" class="simpara"><sup class="simpara">[17] </sup></a>The strong preference is to use the SONAME versioned <span class="strong"><strong>-dev</strong></span> package names over the single <span class="strong"><strong>-dev</strong></span> package name in <a class="ulink" href="https://www.netfort.gr.jp/~dancer/column/libpkg-guide/libpkg-guide.html#devpkg">Chapter 6. Development (-DEV) packages</a>, which does not seem to be shared by the former ftp-master (Steve Langasek). This document was written before the introduction of the <span class="strong"><strong>multiarch</strong></span> system and the <span class="strong"><strong>symbols</strong></span> file.</p>
        </div>
        <div id="ftn.idm4237" class="footnote">
          <p><a href="#idm4237" class="simpara"><sup class="simpara">[18] </sup></a>This path is compliant with the FHS.  <a class="ulink" href="https://www.debian.org/doc/packaging-manuals/fhs/fhs-2.3.html#USRLIBLIBRARIESFORPROGRAMMINGANDPA">Filesystem Hierarchy Standard: /usr/lib : Libraries for programming and packages</a> states "Applications may use a single subdirectory under <span class="strong"><strong>/usr/lib</strong></span>. If an application uses a subdirectory, all architecture-dependent data exclusively used by the application must be placed within that subdirectory."</p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr/>
      <table width="100%" summary="Navigation footer">
        <tr>
          <td align="left"><a accesskey="p" href="ch04.ru.html"><img src="images/prev.png" alt="Пред."/></a> </td>
          <td align="center"> </td>
          <td align="right"> <a accesskey="n" href="ch06.ru.html"><img src="images/next.png" alt="След."/></a></td>
        </tr>
        <tr>
          <td align="left" valign="top">Глава 4. Простой пример </td>
          <td align="center">
            <a accesskey="h" href="index.ru.html">
              <img src="images/home.png" alt="Начало"/>
            </a>
          </td>
          <td align="right" valign="top"> Глава 6. Опции debmake</td>
        </tr>
      </table>
    </div>
  </body>
</html>
